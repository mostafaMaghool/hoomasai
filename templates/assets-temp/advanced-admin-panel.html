<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>پنل مدیریت پیشرفته</title>
    <style>
        /* استایل‌های پایه */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Vazir', Tahoma, Arial, sans-serif;
        }
        
        :root {
            --primary-color: #667eea;
            --secondary-color: #764ba2;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --dark-color: #1f2937;
            --light-color: #f9fafb;
            --border-color: #e5e7eb;
            --text-color: #374151;
            --sidebar-width: 280px;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
        }
        
        /* سایدبار */
        .sidebar {
            width: var(--sidebar-width);
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            height: 100vh;
            position: fixed;
            padding: 20px 0;
            box-shadow: 4px 0 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            z-index: 1000;
            overflow-y: auto;
        }
        
        .sidebar-header {
            text-align: center;
            margin-bottom: 30px;
            padding: 0 20px;
        }
        
        .profile-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 30px;
            padding: 0 20px;
        }
        
        .profile-image {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 32px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .profile-image:hover {
            transform: scale(1.05);
        }
        
        .profile-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }
        
        .profile-image input[type="file"] {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }
        
        .profile-name {
            font-weight: 600;
            color: var(--dark-color);
            margin-bottom: 5px;
        }
        
        .profile-role {
            font-size: 12px;
            color: #6b7280;
        }
        
        .sidebar-header h2 {
            font-size: 18px;
            color: var(--dark-color);
            margin-bottom: 5px;
        }
        
        .sidebar-header p {
            font-size: 12px;
            color: #6b7280;
        }
        
        .sidebar-menu {
            list-style: none;
        }
        
        .sidebar-menu li {
            margin-bottom: 5px;
        }
        
        .sidebar-menu li a {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            color: var(--text-color);
            text-decoration: none;
            transition: all 0.3s ease;
            border-right: 3px solid transparent;
        }
        
        .sidebar-menu li a:hover {
            background: linear-gradient(90deg, rgba(102, 126, 234, 0.1), transparent);
            border-right-color: var(--primary-color);
        }
        
        .sidebar-menu li.active a {
            background: linear-gradient(90deg, rgba(102, 126, 234, 0.15), transparent);
            border-right-color: var(--primary-color);
            color: var(--primary-color);
            font-weight: 600;
        }
        
        .sidebar-menu li a i {
            margin-left: 12px;
            width: 20px;
            text-align: center;
            font-size: 16px;
        }
        
        /* محتوای اصلی */
        .main-content {
            margin-right: var(--sidebar-width);
            width: calc(100% - var(--sidebar-width));
            padding: 20px;
            transition: all 0.3s ease;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px 25px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .header h1 {
            font-size: 28px;
            color: var(--dark-color);
            font-weight: 700;
        }
        
        .header-buttons {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .search-container {
            position: relative;
            margin-left: 20px;
        }
        
        .search-input {
            padding: 10px 15px 10px 40px;
            border: 2px solid var(--border-color);
            border-radius: 25px;
            width: 300px;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .search-input:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .search-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #6b7280;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }
        
        .btn-success {
            background: linear-gradient(135deg, var(--success-color), #059669);
            color: white;
        }
        
        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
        }
        
        .btn-warning {
            background: linear-gradient(135deg, var(--warning-color), #d97706);
            color: white;
        }
        
        .btn-warning:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(245, 158, 11, 0.3);
        }
        
        .btn-danger {
            background: linear-gradient(135deg, var(--danger-color), #dc2626);
            color: white;
        }
        
        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(239, 68, 68, 0.3);
        }
        
        .btn-sm {
            padding: 5px 10px;
            font-size: 12px;
        }
        
        /* کارت‌ها */
        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            margin-bottom: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border-color);
        }
        
        .card-header h2 {
            color: var(--dark-color);
            font-size: 24px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* تب‌ها */
        .tab-content {
            display: none;
            animation: fadeInUp 0.5s ease;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* داشبورد */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100px;
            height: 100px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transform: translate(30px, -30px);
        }
        
        .stat-card h3 {
            font-size: 18px;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }
        
        .stat-card .number {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 5px;
            position: relative;
            z-index: 1;
        }
        
        .stat-card .change {
            font-size: 14px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        
        /* فرم‌ها */
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark-color);
            font-size: 14px;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s ease;
            background: white;
        }
        
        .form-control:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        /* ویرایشگر پیشرفته */
        .advanced-editor {
            border: 2px solid var(--border-color);
            border-radius: 12px;
            overflow: hidden;
            background: white;
        }
        
        .editor-toolbar {
            background: #f8fafc;
            padding: 15px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            align-items: center;
        }
        
        .toolbar-group {
            display: flex;
            gap: 5px;
            padding: 0 10px;
            border-right: 1px solid var(--border-color);
        }
        
        .toolbar-group:last-child {
            border-right: none;
        }
        
        .tool-btn {
            padding: 8px 12px;
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .tool-btn:hover {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .tool-btn.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        #article-content {
            min-height: 400px;
            padding: 20px;
            font-size: 16px;
            line-height: 1.6;
            outline: none;
        }
        
        /* جدول‌ها */
        .table-container {
            overflow-x: auto;
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }
        
        .table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }
        
        .table th {
            background: #f8fafc;
            padding: 15px;
            text-align: right;
            font-weight: 600;
            color: var(--dark-color);
            border-bottom: 1px solid var(--border-color);
        }
        
        .table td {
            padding: 15px;
            border-bottom: 1px solid var(--border-color);
            color: var(--text-color);
        }
        
        .table tr:hover {
            background: #f9fafb;
        }
        
        /* گرید محصولات */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .product-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
        }
        
        .product-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 48px;
            position: relative;
            overflow: hidden;
        }
        
        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .product-info {
            padding: 20px;
        }
        
        .product-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--dark-color);
            margin-bottom: 10px;
        }
        
        .product-price {
            font-size: 20px;
            font-weight: 700;
            color: var(--success-color);
            margin-bottom: 15px;
        }
        
        .product-actions {
            display: flex;
            gap: 10px;
        }
        
        /* پست‌های پیج */
        .post-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        
        .post-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .post-header {
            padding: 15px 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .post-type {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .post-type.single {
            background: #10b981;
            color: white;
        }
        
        .post-type.carousel {
            background: #f59e0b;
            color: white;
        }
        
        .post-type.video {
            background: #ef4444;
            color: white;
        }
        
        .post-content {
            padding: 20px;
        }
        
        .post-media {
            width: 100%;
            height: 300px;
            background: #f3f4f6;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            position: relative;
            overflow: hidden;
        }
        
        .post-media img,
        .post-media video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .carousel-indicators {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 5px;
        }
        
        .carousel-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .carousel-indicator.active {
            background: white;
        }
        
        /* نوتیفیکیشن */
        .notification {
            position: fixed;
            bottom: 20px;
            left: 20px;
            padding: 15px 20px;
            border-radius: 12px;
            color: white;
            display: none;
            z-index: 2000;
            max-width: 350px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.2);
            animation: slideInUp 0.3s ease;
        }
        
        .notification.success {
            background: linear-gradient(135deg, var(--success-color), #059669);
        }
        
        .notification.warning {
            background: linear-gradient(135deg, var(--warning-color), #d97706);
        }
        
        .notification.error {
            background: linear-gradient(135deg, var(--danger-color), #dc2626);
        }
        
        /* مودال */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 3000;
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 15px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #6b7280;
        }
        
        /* فایل آپلود */
        .file-upload {
            position: relative;
            display: inline-block;
            width: 100%;
        }
        
        .file-upload input[type="file"] {
            position: absolute;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }
        
        .file-upload-label {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
            border: 2px dashed var(--border-color);
            border-radius: 12px;
            background: #f9fafb;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .file-upload-label:hover {
            border-color: var(--primary-color);
            background: rgba(102, 126, 234, 0.05);
        }
        
        .file-upload-label i {
            font-size: 48px;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        /* تگ‌ها */
        .tags-container {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }
        
        .tag {
            background: var(--primary-color);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .tag .remove-tag {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 14px;
        }
        
        /* پیش‌نمایش تصویر */
        .image-preview {
            max-width: 200px;
            max-height: 200px;
            border-radius: 8px;
            margin-top: 10px;
            border: 1px solid var(--border-color);
        }
        
        /* رسپانسیو */
        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
                transform: translateX(-100%);
            }
            
            .sidebar.active {
                transform: translateX(0);
            }
            
            .main-content {
                margin-right: 0;
                width: 100%;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .header-buttons {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .search-input {
                width: 100%;
            }
        }
        
        /* انیمیشن‌ها */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(100px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* اسکرول بار سفارشی */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--secondary-color);
        }
        
        /* استایل‌های اضافی */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #6b7280;
        }
        
        .empty-state i {
            font-size: 64px;
            margin-bottom: 20px;
            opacity: 0.5;
        }
        
        .status-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .status-active {
            background: #10b981;
            color: white;
        }
        
        .status-inactive {
            background: #6b7280;
            color: white;
        }
        
        .status-pending {
            background: #f59e0b;
            color: white;
        }
        
        .status-published {
            background: #10b981;
            color: white;
        }
        
        .status-draft {
            background: #f59e0b;
            color: white;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- سایدبار -->
    <div class="sidebar" id="sidebar">
        <div class="profile-section">
            <div class="profile-image" id="profile-image">
                <input type="file" id="profile-upload" accept="image/*">
                <i class="fas fa-user" id="profile-icon"></i>
            </div>
            <div class="profile-name" id="profile-name">محمد رضایی</div>
            <div class="profile-role">مدیر ارشد</div>
        </div>
        
        <div class="sidebar-header">
            <h2><i class="fas fa-crown"></i> پنل مدیریت</h2>
            <p>نسخه پیشرفته 3.0</p>
        </div>
        
        <ul class="sidebar-menu">
            <li class="active" data-tab="dashboard">
                <a href="#"><i class="fas fa-tachometer-alt"></i> داشبورد</a>
            </li>
            <li data-tab="user-info">
                <a href="#"><i class="fas fa-user-circle"></i> اطلاعات کاربری</a>
            </li>
            <li data-tab="write-article">
                <a href="#"><i class="fas fa-pen-fancy"></i> نوشتن مقاله</a>
            </li>
            <li data-tab="my-articles">
                <a href="#"><i class="fas fa-newspaper"></i> مقالات من</a>
            </li>
            <li data-tab="pages">
                <a href="#"><i class="fas fa-images"></i> پیج‌ها</a>
            </li>
            <li data-tab="products">
                <a href="#"><i class="fas fa-box-open"></i> محصولات</a>
            </li>
            <li data-tab="courses">
                <a href="#"><i class="fas fa-graduation-cap"></i> دوره‌ها</a>
            </li>
            <li data-tab="tools">
                <a href="#"><i class="fas fa-tools"></i> ابزارهای مورد نیاز</a>
            </li>
            <li data-tab="images">
                <a href="#"><i class="fas fa-photo-video"></i> تصاویر</a>
            </li>
            <li data-tab="prompts">
                <a href="#"><i class="fas fa-magic"></i> پرامپت‌ها</a>
            </li>
            <li data-tab="users">
                <a href="#"><i class="fas fa-users"></i> مدیریت کاربران</a>
            </li>
        </ul>
    </div>

    <!-- محتوای اصلی -->
    <div class="main-content">
        <!-- هدر -->
        <div class="header">
            <h1 id="page-title">داشبورد</h1>
            <div class="header-buttons">
                <div class="search-container">
                    <input type="text" class="search-input" id="global-search" placeholder="جستجو در تمام بخش‌ها...">
                    <i class="fas fa-search search-icon"></i>
                </div>
                <button class="btn btn-primary" id="mobile-menu">
                    <i class="fas fa-bars"></i> منو
                </button>
                <button class="btn btn-success" id="show-success">
                    <i class="fas fa-check"></i> موفقیت
                </button>
                <button class="btn btn-warning" id="show-warning">
                    <i class="fas fa-exclamation-triangle"></i> هشدار
                </button>
                <button class="btn btn-danger" id="show-error">
                    <i class="fas fa-times"></i> خطا
                </button>
            </div>
        </div>

        <!-- داشبورد -->
        <div class="tab-content active" id="dashboard">
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>کل مقالات</h3>
                    <div class="number" id="articles-count">0</div>
                    <div class="change">+12% از ماه گذشته</div>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, #10b981, #059669);">
                    <h3>محصولات</h3>
                    <div class="number" id="products-count">0</div>
                    <div class="change">+8% از ماه گذشته</div>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
                    <h3>دوره‌ها</h3>
                    <div class="number" id="courses-count">0</div>
                    <div class="change">+25% از ماه گذشته</div>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, #ef4444, #dc2626);">
                    <h3>کاربران</h3>
                    <div class="number" id="users-count">0</div>
                    <div class="change">+18% از ماه گذشته</div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-chart-line"></i> آمار عملکرد</h2>
                </div>
                <p>خوش آمدید به پنل مدیریت پیشرفته. از منوی سمت راست بخش مورد نظر را انتخاب کنید.</p>
            </div>
        </div>

        <!-- اطلاعات کاربری -->
        <div class="tab-content" id="user-info">
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-user-circle"></i> اطلاعات کاربری</h2>
                    <button class="btn btn-primary" onclick="editProfile()">
                        <i class="fas fa-edit"></i> ویرایش پروفایل
                    </button>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 30px; align-items: start;">
                    <div style="text-align: center;">
                        <div class="profile-image" style="width: 150px; height: 150px; margin: 0 auto 20px;">
                            <input type="file" accept="image/*" onchange="changeProfileImage(this)">
                            <i class="fas fa-user" id="large-profile-icon"></i>
                        </div>
                        <button class="btn btn-primary" onclick="document.querySelector('#user-info .profile-image input').click()">
                            <i class="fas fa-camera"></i> تغییر عکس
                        </button>
                    </div>
                    
                    <div>
                        <div class="form-group">
                            <label>نام و نام خانوادگی:</label>
                            <input type="text" class="form-control" id="user-fullname" value="محمد رضایی">
                        </div>
                        <div class="form-group">
                            <label>ایمیل:</label>
                            <input type="email" class="form-control" id="user-email" value="mohammad@example.com">
                        </div>
                        <div class="form-group">
                            <label>نقش:</label>
                            <select class="form-control" id="user-role">
                                <option value="admin">مدیر ارشد</option>
                                <option value="editor">ویرایشگر</option>
                                <option value="author">نویسنده</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>تاریخ عضویت:</label>
                            <div class="form-control" style="background: #f9fafb;">1402/01/15</div>
                        </div>
                        <div class="form-group">
                            <label>آخرین ورود:</label>
                            <div class="form-control" style="background: #f9fafb;">1402/08/25 - 14:30</div>
                        </div>
                        <button class="btn btn-success" onclick="saveProfile()">
                            <i class="fas fa-save"></i> ذخیره تغییرات
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- نوشتن مقاله -->
        <div class="tab-content" id="write-article">
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-pen-fancy"></i> نوشتن مقاله جدید</h2>
                    <button class="btn btn-primary" onclick="saveAsDraft()">
                        <i class="fas fa-save"></i> ذخیره پیش‌نویس
                    </button>
                </div>
                
                <form id="article-form">
                    <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 20px;">
                        <div>
                            <div class="form-group">
                                <label for="article-title">عنوان مقاله:</label>
                                <input type="text" id="article-title" class="form-control" placeholder="عنوان جذابی برای مقاله خود انتخاب کنید">
                            </div>
                            
                            <div class="form-group">
                                <label for="article-excerpt">خلاصه مقاله:</label>
                                <textarea id="article-excerpt" class="form-control" rows="3" placeholder="خلاصه‌ای از محتوای مقاله..."></textarea>
                            </div>
                        </div>
                        
                        <div>
                            <div class="form-group">
                                <label>تصویر شاخص:</label>
                                <div class="file-upload">
                                    <input type="file" id="article-image" accept="image/*">
                                    <div class="file-upload-label">
                                        <div>
                                            <i class="fas fa-cloud-upload-alt"></i>
                                            <div>کلیک کنید یا فایل را بکشید</div>
                                            <small>JPG, PNG, GIF تا 5MB</small>
                                        </div>
                                    </div>
                                </div>
                                <img id="image-preview" class="image-preview" style="display: none;">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>محتوای مقاله:</label>
                        <div class="advanced-editor">
                            <div class="editor-toolbar">
                                <div class="toolbar-group">
                                    <button type="button" class="tool-btn" data-command="undo" title="بازگشت">
                                        <i class="fas fa-undo"></i>
                                    </button>
                                    <button type="button" class="tool-btn" data-command="redo" title="تکرار">
                                        <i class="fas fa-redo"></i>
                                    </button>
                                </div>
                                
                                <div class="toolbar-group">
                                    <button type="button" class="tool-btn" data-command="bold" title="پررنگ">
                                        <i class="fas fa-bold"></i>
                                    </button>
                                    <button type="button" class="tool-btn" data-command="italic" title="مورب">
                                        <i class="fas fa-italic"></i>
                                    </button>
                                    <button type="button" class="tool-btn" data-command="underline" title="زیرخط دار">
                                        <i class="fas fa-underline"></i>
                                    </button>
                                    <button type="button" class="tool-btn" data-command="strikeThrough" title="خط خورده">
                                        <i class="fas fa-strikethrough"></i>
                                    </button>
                                </div>
                                
                                <div class="toolbar-group">
                                    <select class="tool-btn" id="heading-select" title="سرتیتر">
                                        <option value="">متن عادی</option>
                                        <option value="h1">سرتیتر 1</option>
                                        <option value="h2">سرتیتر 2</option>
                                        <option value="h3">سرتیتر 3</option>
                                        <option value="h4">سرتیتر 4</option>
                                    </select>
                                </div>
                                
                                <div class="toolbar-group">
                                    <button type="button" class="tool-btn" data-command="insertUnorderedList" title="لیست نقطه‌ای">
                                        <i class="fas fa-list-ul"></i>
                                    </button>
                                    <button type="button" class="tool-btn" data-command="insertOrderedList" title="لیست شماره‌ای">
                                        <i class="fas fa-list-ol"></i>
                                    </button>
                                    <button type="button" class="tool-btn" data-command="outdent" title="کاهش تورفتگی">
                                        <i class="fas fa-outdent"></i>
                                    </button>
                                    <button type="button" class="tool-btn" data-command="indent" title="افزایش تورفتگی">
                                        <i class="fas fa-indent"></i>
                                    </button>
                                </div>
                                
                                <div class="toolbar-group">
                                    <button type="button" class="tool-btn" data-command="justifyRight" title="راست‌چین">
                                        <i class="fas fa-align-right"></i>
                                    </button>
                                    <button type="button" class="tool-btn" data-command="justifyCenter" title="وسط‌چین">
                                        <i class="fas fa-align-center"></i>
                                    </button>
                                    <button type="button" class="tool-btn" data-command="justifyLeft" title="چپ‌چین">
                                        <i class="fas fa-align-left"></i>
                                    </button>
                                    <button type="button" class="tool-btn" data-command="justifyFull" title="بلوک">
                                        <i class="fas fa-align-justify"></i>
                                    </button>
                                </div>
                                
                                <div class="toolbar-group">
                                    <button type="button" class="tool-btn" onclick="insertLink()" title="لینک">
                                        <i class="fas fa-link"></i>
                                    </button>
                                    <button type="button" class="tool-btn" onclick="insertImage()" title="تصویر">
                                        <i class="fas fa-image"></i>
                                    </button>
                                    <button type="button" class="tool-btn" onclick="insertTable()" title="جدول">
                                        <i class="fas fa-table"></i>
                                    </button>
                                </div>
                                
                                <div class="toolbar-group">
                                    <input type="color" class="tool-btn" id="text-color" title="رنگ متن" value="#000000">
                                    <input type="color" class="tool-btn" id="bg-color" title="رنگ پس‌زمینه" value="#ffffff">
                                </div>
                            </div>
                            <div id="article-content" contenteditable="true" placeholder="محتوای مقاله خود را اینجا بنویسید..."></div>
                        </div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div class="form-group">
                            <label for="article-tags">برچسب‌ها:</label>
                            <input type="text" id="article-tags" class="form-control" placeholder="برچسب جدید را تایپ کنید و Enter بزنید">
                            <div class="tags-container" id="tags-container"></div>
                        </div>
                        
                        <div class="form-group">
                            <label for="article-category">دسته‌بندی:</label>
                            <select id="article-category" class="form-control">
                                <option value="">انتخاب دسته‌بندی</option>
                                <option value="tech">فناوری</option>
                                <option value="business">کسب و کار</option>
                                <option value="education">آموزش</option>
                                <option value="lifestyle">سبک زندگی</option>
                            </select>
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 15px; margin-top: 30px;">
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-paper-plane"></i> انتشار مقاله
                        </button>
                        <button type="button" class="btn btn-primary" onclick="previewArticle()">
                            <i class="fas fa-eye"></i> پیش‌نمایش
                        </button>
                        <button type="button" class="btn btn-warning" onclick="saveAsDraft()">
                            <i class="fas fa-save"></i> ذخیره پیش‌نویس
                        </button>
                        <button type="reset" class="btn btn-danger">
                            <i class="fas fa-trash"></i> پاک کردن
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- مقالات من -->
        <div class="tab-content" id="my-articles">
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-newspaper"></i> مقالات من</h2>
                    <div style="display: flex; gap: 10px;">
                        <input type="text" class="form-control" id="articles-search" placeholder="جستجو در مقالات..." style="width: 250px;">
                        <button class="btn btn-primary" onclick="exportArticles()">
                            <i class="fas fa-download"></i> خروجی Excel
                        </button>
                    </div>
                </div>
                
                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>عنوان</th>
                                <th>دسته‌بندی</th>
                                <th>تاریخ انتشار</th>
                                <th>وضعیت</th>
                                <th>بازدید</th>
                                <th>عملیات</th>
                            </tr>
                        </thead>
                        <tbody id="articles-table-body">
                            <!-- مقالات از JavaScript بارگذاری می‌شوند -->
                        </tbody>
                    </table>
                </div>
                
                <div id="articles-empty" class="empty-state" style="display: none;">
                    <i class="fas fa-newspaper"></i>
                    <h3>هیچ مقاله‌ای یافت نشد</h3>
                    <p>اولین مقاله خود را بنویسید</p>
                </div>
            </div>
        </div>

        <!-- پیج‌ها -->
        <div class="tab-content" id="pages">
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-images"></i> مدیریت پیج‌ها</h2>
                    <button class="btn btn-success" onclick="openModal('post-modal')">
                        <i class="fas fa-plus"></i> افزودن پست جدید
                    </button>
                </div>
                
                <div style="display: flex; gap: 15px; margin-bottom: 20px;">
                    <input type="text" class="form-control" id="posts-search" placeholder="جستجو در پست‌ها..." style="width: 300px;">
                    <select class="form-control" id="posts-filter" style="width: 200px;">
                        <option value="">همه انواع</option>
                        <option value="single">تک اسلاید</option>
                        <option value="carousel">چند اسلاید</option>
                        <option value="video">ویدیو</option>
                    </select>
                </div>
                
                <div id="posts-container">
                    <!-- پست‌ها از JavaScript بارگذاری می‌شوند -->
                </div>
                
                <div id="posts-empty" class="empty-state" style="display: none;">
                    <i class="fas fa-images"></i>
                    <h3>هیچ پستی یافت نشد</h3>
                    <p>اولین پست خود را ایجاد کنید</p>
                </div>
            </div>
        </div>

        <!-- محصولات -->
        <div class="tab-content" id="products">
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-box-open"></i> مدیریت محصولات</h2>
                    <button class="btn btn-success" onclick="openModal('product-modal')">
                        <i class="fas fa-plus"></i> افزودن محصول
                    </button>
                </div>
                
                <div style="display: flex; gap: 15px; margin-bottom: 20px;">
                    <input type="text" class="form-control" id="products-search" placeholder="جستجو در محصولات..." style="width: 300px;">
                </div>
                
                <div class="products-grid" id="products-container">
                    <!-- محصولات از JavaScript بارگذاری می‌شوند -->
                </div>
                
                <div id="products-empty" class="empty-state" style="display: none;">
                    <i class="fas fa-box-open"></i>
                    <h3>هیچ محصولی یافت نشد</h3>
                    <p>اولین محصول خود را اضافه کنید</p>
                </div>
            </div>
        </div>

        <!-- دوره‌ها -->
        <div class="tab-content" id="courses">
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-graduation-cap"></i> مدیریت دوره‌ها</h2>
                    <button class="btn btn-success" onclick="openModal('course-modal')">
                        <i class="fas fa-plus"></i> افزودن دوره
                    </button>
                </div>
                
                <div style="display: flex; gap: 15px; margin-bottom: 20px;">
                    <input type="text" class="form-control" id="courses-search" placeholder="جستجو در دوره‌ها..." style="width: 300px;">
                </div>
                
                <div class="products-grid" id="courses-container">
                    <!-- دوره‌ها از JavaScript بارگذاری می‌شوند -->
                </div>
                
                <div id="courses-empty" class="empty-state" style="display: none;">
                    <i class="fas fa-graduation-cap"></i>
                    <h3>هیچ دوره‌ای یافت نشد</h3>
                    <p>اولین دوره خود را ایجاد کنید</p>
                </div>
            </div>
        </div>

        <!-- ابزارهای مورد نیاز -->
        <div class="tab-content" id="tools">
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-tools"></i> ابزارهای مورد نیاز</h2>
                    <button class="btn btn-success" onclick="openModal('tool-modal')">
                        <i class="fas fa-plus"></i> افزودن ابزار
                    </button>
                </div>
                
                <div style="display: flex; gap: 15px; margin-bottom: 20px;">
                    <input type="text" class="form-control" id="tools-search" placeholder="جستجو در ابزارها..." style="width: 300px;">
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;" id="tools-container">
                    <!-- ابزارها از JavaScript بارگذاری می‌شوند -->
                </div>
                
                <div id="tools-empty" class="empty-state" style="display: none;">
                    <i class="fas fa-tools"></i>
                    <h3>هیچ ابزاری یافت نشد</h3>
                    <p>اولین ابزار خود را اضافه کنید</p>
                </div>
            </div>
        </div>

        <!-- تصاویر -->
        <div class="tab-content" id="images">
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-photo-video"></i> مدیریت تصاویر</h2>
                    <button class="btn btn-success" onclick="openModal('image-modal')">
                        <i class="fas fa-upload"></i> آپلود تصاویر
                    </button>
                </div>
                
                <div style="display: flex; gap: 15px; margin-bottom: 20px;">
                    <input type="text" class="form-control" id="images-search" placeholder="جستجو در تصاویر..." style="width: 300px;">
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px;" id="images-container">
                    <!-- تصاویر از JavaScript بارگذاری می‌شوند -->
                </div>
                
                <div id="images-empty" class="empty-state" style="display: none;">
                    <i class="fas fa-photo-video"></i>
                    <h3>هیچ تصویری یافت نشد</h3>
                    <p>اولین تصویر خود را آپلود کنید</p>
                </div>
            </div>
        </div>

        <!-- پرامپت‌ها -->
        <div class="tab-content" id="prompts">
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-magic"></i> مدیریت پرامپت‌ها</h2>
                    <button class="btn btn-success" onclick="openModal('prompt-modal')">
                        <i class="fas fa-plus"></i> افزودن پرامپت
                    </button>
                </div>
                
                <div style="display: flex; gap: 15px; margin-bottom: 20px;">
                    <input type="text" class="form-control" id="prompts-search" placeholder="جستجو در پرامپت‌ها..." style="width: 300px;">
                    <select class="form-control" id="prompts-filter" style="width: 200px;">
                        <option value="">همه دسته‌ها</option>
                        <option value="writing">نوشتن</option>
                        <option value="creativity">خلاقیت</option>
                        <option value="analysis">تحلیل</option>
                        <option value="coding">برنامه‌نویسی</option>
                    </select>
                </div>
                
                <div style="display: grid; gap: 20px;" id="prompts-container">
                    <!-- پرامپت‌ها از JavaScript بارگذاری می‌شوند -->
                </div>
                
                <div id="prompts-empty" class="empty-state" style="display: none;">
                    <i class="fas fa-magic"></i>
                    <h3>هیچ پرامپتی یافت نشد</h3>
                    <p>اولین پرامپت خود را ایجاد کنید</p>
                </div>
            </div>
        </div>

        <!-- مدیریت کاربران -->
        <div class="tab-content" id="users">
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-users"></i> مدیریت کاربران</h2>
                    <button class="btn btn-success" onclick="openModal('user-modal')">
                        <i class="fas fa-user-plus"></i> افزودن کاربر
                    </button>
                </div>
                
                <div style="display: flex; gap: 15px; margin-bottom: 20px;">
                    <input type="text" class="form-control" id="users-search" placeholder="جستجو در کاربران..." style="width: 300px;">
                    <select class="form-control" id="users-filter" style="width: 200px;">
                        <option value="">همه نقش‌ها</option>
                        <option value="admin">مدیر</option>
                        <option value="editor">ویرایشگر</option>
                        <option value="author">نویسنده</option>
                        <option value="user">کاربر</option>
                    </select>
                </div>
                
                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>نام کاربر</th>
                                <th>ایمیل</th>
                                <th>نقش</th>
                                <th>تاریخ عضویت</th>
                                <th>وضعیت</th>
                                <th>عملیات</th>
                            </tr>
                        </thead>
                        <tbody id="users-table-body">
                            <!-- کاربران از JavaScript بارگذاری می‌شوند -->
                        </tbody>
                    </table>
                </div>
                
                <div id="users-empty" class="empty-state" style="display: none;">
                    <i class="fas fa-users"></i>
                    <h3>هیچ کاربری یافت نشد</h3>
                    <p>اولین کاربر را اضافه کنید</p>
                </div>
            </div>
        </div>
    </div>

    <!-- نوتیفیکیشن -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i> این یک پیام اطلاع‌رسانی است!
    </div>

    <!-- مودال پیش‌نمایش مقاله -->
    <div class="modal" id="preview-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>پیش‌نمایش مقاله</h2>
                <button class="modal-close" onclick="closeModal('preview-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="preview-content"></div>
        </div>
    </div>

    <!-- مودال افزودن/ویرایش محصول -->
    <div class="modal" id="product-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="product-modal-title">افزودن محصول جدید</h2>
                <button class="modal-close" onclick="closeModal('product-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="product-form">
                <input type="hidden" id="product-id">
                <div class="form-group">
                    <label>نام محصول:</label>
                    <input type="text" id="product-name" class="form-control" placeholder="نام محصول را وارد کنید" required>
                </div>
                <div class="form-group">
                    <label>قیمت (تومان):</label>
                    <input type="number" id="product-price" class="form-control" placeholder="قیمت به تومان" required>
                </div>
                <div class="form-group">
                    <label>توضیحات:</label>
                    <textarea id="product-description" class="form-control" rows="4" placeholder="توضیحات محصول" required></textarea>
                </div>
                <div class="form-group">
                    <label>تصویر محصول:</label>
                    <div class="file-upload">
                        <input type="file" id="product-image" accept="image/*">
                        <div class="file-upload-label">
                            <div>
                                <i class="fas fa-cloud-upload-alt"></i>
                                <div>انتخاب تصویر محصول</div>
                                <small>JPG, PNG, GIF تا 5MB</small>
                            </div>
                        </div>
                    </div>
                    <img id="product-image-preview" class="image-preview" style="display: none;">
                </div>
                <div style="display: flex; gap: 10px; justify-content: flex-end;">
                    <button type="button" class="btn btn-danger" onclick="closeModal('product-modal')">انصراف</button>
                    <button type="submit" class="btn btn-success">ذخیره محصول</button>
                </div>
            </form>
        </div>
    </div>

    <!-- مودال افزودن/ویرایش دوره -->
    <div class="modal" id="course-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="course-modal-title">افزودن دوره جدید</h2>
                <button class="modal-close" onclick="closeModal('course-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="course-form">
                <input type="hidden" id="course-id">
                <div class="form-group">
                    <label>نام دوره:</label>
                    <input type="text" id="course-name" class="form-control" placeholder="نام دوره را وارد کنید" required>
                </div>
                <div class="form-group">
                    <label>قیمت (تومان):</label>
                    <input type="number" id="course-price" class="form-control" placeholder="قیمت به تومان" required>
                </div>
                <div class="form-group">
                    <label>مدت دوره (ساعت):</label>
                    <input type="number" id="course-duration" class="form-control" placeholder="مدت دوره به ساعت" required>
                </div>
                <div class="form-group">
                    <label>توضیحات:</label>
                    <textarea id="course-description" class="form-control" rows="4" placeholder="توضیحات دوره" required></textarea>
                </div>
                <div class="form-group">
                    <label>تصویر دوره:</label>
                    <div class="file-upload">
                        <input type="file" id="course-image" accept="image/*">
                        <div class="file-upload-label">
                            <div>
                                <i class="fas fa-cloud-upload-alt"></i>
                                <div>انتخاب تصویر دوره</div>
                                <small>JPG, PNG, GIF تا 5MB</small>
                            </div>
                        </div>
                    </div>
                    <img id="course-image-preview" class="image-preview" style="display: none;">
                </div>
                <div style="display: flex; gap: 10px; justify-content: flex-end;">
                    <button type="button" class="btn btn-danger" onclick="closeModal('course-modal')">انصراف</button>
                    <button type="submit" class="btn btn-success">ذخیره دوره</button>
                </div>
            </form>
        </div>
    </div>

    <!-- مودال افزودن/ویرایش ابزار -->
    <div class="modal" id="tool-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="tool-modal-title">افزودن ابزار جدید</h2>
                <button class="modal-close" onclick="closeModal('tool-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="tool-form">
                <input type="hidden" id="tool-id">
                <div class="form-group">
                    <label>نام ابزار:</label>
                    <input type="text" id="tool-name" class="form-control" placeholder="نام ابزار را وارد کنید" required>
                </div>
                <div class="form-group">
                    <label>دسته‌بندی:</label>
                    <select id="tool-category" class="form-control" required>
                        <option value="">انتخاب دسته‌بندی</option>
                        <option value="development">توسعه</option>
                        <option value="design">طراحی</option>
                        <option value="productivity">بهره‌وری</option>
                        <option value="analysis">تحلیل</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>توضیحات:</label>
                    <textarea id="tool-description" class="form-control" rows="3" placeholder="توضیحات ابزار" required></textarea>
                </div>
                <div class="form-group">
                    <label>لینک دانلود/مشاهده:</label>
                    <input type="url" id="tool-link" class="form-control" placeholder="https://example.com">
                </div>
                <div class="form-group">
                    <label>آیکون:</label>
                    <input type="text" id="tool-icon" class="form-control" placeholder="fas fa-code" value="fas fa-tools">
                </div>
                <div style="display: flex; gap: 10px; justify-content: flex-end;">
                    <button type="button" class="btn btn-danger" onclick="closeModal('tool-modal')">انصراف</button>
                    <button type="submit" class="btn btn-success">ذخیره ابزار</button>
                </div>
            </form>
        </div>
    </div>

    <!-- مودال افزودن/ویرایش تصویر -->
    <div class="modal" id="image-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="image-modal-title">آپلود تصویر جدید</h2>
                <button class="modal-close" onclick="closeModal('image-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="image-form">
                <input type="hidden" id="image-id">
                <div class="form-group">
                    <label>نام تصویر:</label>
                    <input type="text" id="image-name" class="form-control" placeholder="نام تصویر را وارد کنید" required>
                </div>
                <div class="form-group">
                    <label>فایل تصویر:</label>
                    <div class="file-upload">
                        <input type="file" id="image-file" accept="image/*" required>
                        <div class="file-upload-label">
                            <div>
                                <i class="fas fa-cloud-upload-alt"></i>
                                <div>انتخاب فایل تصویر</div>
                                <small>JPG, PNG, GIF تا 10MB</small>
                            </div>
                        </div>
                    </div>
                    <img id="image-file-preview" class="image-preview" style="display: none;">
                </div>
                <div class="form-group">
                    <label>توضیحات:</label>
                    <textarea id="image-description" class="form-control" rows="3" placeholder="توضیحات تصویر"></textarea>
                </div>
                <div style="display: flex; gap: 10px; justify-content: flex-end;">
                    <button type="button" class="btn btn-danger" onclick="closeModal('image-modal')">انصراف</button>
                    <button type="submit" class="btn btn-success">ذخیره تصویر</button>
                </div>
            </form>
        </div>
    </div>

    <!-- مودال افزودن/ویرایش پرامپت -->
    <div class="modal" id="prompt-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="prompt-modal-title">افزودن پرامپت جدید</h2>
                <button class="modal-close" onclick="closeModal('prompt-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="prompt-form">
                <input type="hidden" id="prompt-id">
                <div class="form-group">
                    <label>عنوان پرامپت:</label>
                    <input type="text" id="prompt-title" class="form-control" placeholder="عنوان پرامپت را وارد کنید" required>
                </div>
                <div class="form-group">
                    <label>دسته‌بندی:</label>
                    <select id="prompt-category" class="form-control" required>
                        <option value="">انتخاب دسته‌بندی</option>
                        <option value="writing">نوشتن</option>
                        <option value="creativity">خلاقیت</option>
                        <option value="analysis">تحلیل</option>
                        <option value="coding">برنامه‌نویسی</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>متن پرامپت:</label>
                    <textarea id="prompt-content" class="form-control" rows="6" placeholder="متن کامل پرامپت را وارد کنید" required></textarea>
                </div>
                <div style="display: flex; gap: 10px; justify-content: flex-end;">
                    <button type="button" class="btn btn-danger" onclick="closeModal('prompt-modal')">انصراف</button>
                    <button type="submit" class="btn btn-success">ذخیره پرامپت</button>
                </div>
            </form>
        </div>
    </div>

    <!-- مودال افزودن/ویرایش کاربر -->
    <div class="modal" id="user-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="user-modal-title">افزودن کاربر جدید</h2>
                <button class="modal-close" onclick="closeModal('user-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="user-form">
                <input type="hidden" id="user-id">
                <div class="form-group">
                    <label>نام و نام خانوادگی:</label>
                    <input type="text" id="user-name" class="form-control" placeholder="نام کامل کاربر" required>
                </div>
                <div class="form-group">
                    <label>ایمیل:</label>
                    <input type="email" id="user-email" class="form-control" placeholder="آدرس ایمیل" required>
                </div>
                <div class="form-group">
                    <label>نقش:</label>
                    <select id="user-role" class="form-control" required>
                        <option value="">انتخاب نقش</option>
                        <option value="admin">مدیر</option>
                        <option value="editor">ویرایشگر</option>
                        <option value="author">نویسنده</option>
                        <option value="user">کاربر</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>رمز عبور:</label>
                    <input type="password" id="user-password" class="form-control" placeholder="رمز عبور">
                    <small style="color: #6b7280;">در صورت ویرایش، خالی بگذارید تا تغییر نکند</small>
                </div>
                <div class="form-group">
                    <label>وضعیت:</label>
                    <select id="user-status" class="form-control" required>
                        <option value="active">فعال</option>
                        <option value="inactive">غیرفعال</option>
                        <option value="pending">در انتظار</option>
                    </select>
                </div>
                <div style="display: flex; gap: 10px; justify-content: flex-end;">
                    <button type="button" class="btn btn-danger" onclick="closeModal('user-modal')">انصراف</button>
                    <button type="submit" class="btn btn-success">ذخیره کاربر</button>
                </div>
            </form>
        </div>
    </div>

    <!-- مودال افزودن/ویرایش پست -->
    <div class="modal" id="post-modal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h2 id="post-modal-title">افزودن پست جدید</h2>
                <button class="modal-close" onclick="closeModal('post-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="post-form">
                <input type="hidden" id="post-id">
                <div class="form-group">
                    <label>عنوان پست:</label>
                    <input type="text" id="post-title" class="form-control" placeholder="عنوان پست را وارد کنید" required>
                </div>
                <div class="form-group">
                    <label>نوع پست:</label>
                    <select id="post-type" class="form-control" required onchange="togglePostFields()">
                        <option value="">انتخاب نوع پست</option>
                        <option value="single">تک اسلاید</option>
                        <option value="carousel">چند اسلاید</option>
                        <option value="video">ویدیو</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>متن پست:</label>
                    <textarea id="post-caption" class="form-control" rows="4" placeholder="متن توضیحی پست" required></textarea>
                </div>
                
                <!-- فیلدهای مخصوص تک اسلاید -->
                <div id="single-fields" style="display: none;">
                    <div class="form-group">
                        <label>تصویر:</label>
                        <div class="file-upload">
                            <input type="file" id="post-single-image" accept="image/*">
                            <div class="file-upload-label">
                                <div>
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <div>انتخاب تصویر</div>
                                    <small>JPG, PNG, GIF تا 10MB</small>
                                </div>
                            </div>
                        </div>
                        <img id="post-single-preview" class="image-preview" style="display: none;">
                    </div>
                </div>
                
                <!-- فیلدهای مخصوص چند اسلاید -->
                <div id="carousel-fields" style="display: none;">
                    <div class="form-group">
                        <label>تصاویر (حداکثر 10 تصویر):</label>
                        <div class="file-upload">
                            <input type="file" id="post-carousel-images" accept="image/*" multiple>
                            <div class="file-upload-label">
                                <div>
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <div>انتخاب چندین تصویر</div>
                                    <small>JPG, PNG, GIF تا 10MB هر کدام</small>
                                </div>
                            </div>
                        </div>
                        <div id="carousel-previews" style="display: flex; flex-wrap: wrap; gap: 10px; margin-top: 10px;"></div>
                    </div>
                </div>
                
                <!-- فیلدهای مخصوص ویدیو -->
                <div id="video-fields" style="display: none;">
                    <div class="form-group">
                        <label>فایل ویدیو:</label>
                        <div class="file-upload">
                            <input type="file" id="post-video" accept="video/*">
                            <div class="file-upload-label">
                                <div>
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <div>انتخاب فایل ویدیو</div>
                                    <small>MP4, AVI, MOV تا 100MB</small>
                                </div>
                            </div>
                        </div>
                        <video id="post-video-preview" class="image-preview" style="display: none;" controls></video>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>هشتگ‌ها:</label>
                    <input type="text" id="post-hashtags" class="form-control" placeholder="هشتگ‌ها را با کاما جدا کنید">
                </div>
                
                <div style="display: flex; gap: 10px; justify-content: flex-end;">
                    <button type="button" class="btn btn-danger" onclick="closeModal('post-modal')">انصراف</button>
                    <button type="submit" class="btn btn-success">ذخیره پست</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // متغیرهای سراسری
        let articles = JSON.parse(localStorage.getItem('articles')) || [];
        let products = JSON.parse(localStorage.getItem('products')) || [];
        let courses = JSON.parse(localStorage.getItem('courses')) || [];
        let tools = JSON.parse(localStorage.getItem('tools')) || [];
        let images = JSON.parse(localStorage.getItem('images')) || [];
        let prompts = JSON.parse(localStorage.getItem('prompts')) || [];
        let users = JSON.parse(localStorage.getItem('users')) || [];
        let posts = JSON.parse(localStorage.getItem('posts')) || [];
        let tags = [];
        let currentEditingArticle = null;
        let currentEditingItem = null;
        let profileImage = localStorage.getItem('profileImage') || null;
        let profileName = localStorage.getItem('profileName') || 'محمد رضایی';

        // مدیریت تب‌ها و رویدادها
        document.addEventListener('DOMContentLoaded', function() {
            const tabItems = document.querySelectorAll('.sidebar-menu li');
            const tabContents = document.querySelectorAll('.tab-content');
            const pageTitle = document.getElementById('page-title');
            const notification = document.getElementById('notification');
            
            // بارگذاری تصویر پروفایل
            loadProfileImage();
            
            // تغییر تب‌ها
            tabItems.forEach(item => {
                item.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // غیرفعال کردن تمام آیتم‌های منو
                    tabItems.forEach(item => item.classList.remove('active'));
                    // غیرفعال کردن تمام تب‌ها
                    tabContents.forEach(content => content.classList.remove('active'));
                    
                    // فعال کردن تب و آیتم منوی انتخاب شده
                    this.classList.add('active');
                    document.getElementById(tabId).classList.add('active');
                    
                    // تغییر عنوان صفحه
                    const tabName = this.querySelector('a').textContent;
                    pageTitle.textContent = tabName;
                    
                    // بارگذاری داده‌های مربوط به تب
                    loadTabData(tabId);
                });
            });
            
            // نمایش نوتیفیکیشن‌ها
            document.getElementById('show-success').addEventListener('click', function() {
                showNotification('عملیات با موفقیت انجام شد', 'success');
            });
            
            document.getElementById('show-warning').addEventListener('click', function() {
                showNotification('هشدار: این عمل ممکن است خطرناک باشد', 'warning');
            });
            
            document.getElementById('show-error').addEventListener('click', function() {
                showNotification('خطا: عملیات انجام نشد', 'error');
            });
            
            // منوی موبایل
            document.getElementById('mobile-menu').addEventListener('click', function() {
                const sidebar = document.getElementById('sidebar');
                sidebar.classList.toggle('active');
            });
            
            // جستجوی سراسری
            document.getElementById('global-search').addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                performGlobalSearch(searchTerm);
            });
            
            // مدیریت ویرایشگر مقاله
            setupEditor();
            
            // مدیریت تگ‌ها
            setupTags();
            
            // مدیریت فرم‌ها
            setupForms();
            
            // مدیریت آپلود تصاویر
            setupImageUploads();
            
            // بارگذاری داده‌های اولیه
            loadInitialData();
            
            // مدیریت تصویر پروفایل
            setupProfileImage();
        });
        
        // بارگذاری تصویر پروفایل
        function loadProfileImage() {
            const profileImageElement = document.getElementById('profile-image');
            const profileIcon = document.getElementById('profile-icon');
            const profileNameElement = document.getElementById('profile-name');
            
            if (profileImage) {
                profileIcon.style.display = 'none';
                const img = document.createElement('img');
                img.src = profileImage;
                img.alt = 'Profile';
                profileImageElement.appendChild(img);
            }
            
            profileNameElement.textContent = profileName;
        }
        
        // تنظیم تصویر پروفایل
        function setupProfileImage() {
            const profileUpload = document.getElementById('profile-upload');
            
            profileUpload.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        profileImage = e.target.result;
                        localStorage.setItem('profileImage', profileImage);
                        
                        // بروزرسانی تصویر در سایدبار
                        const profileImageElement = document.getElementById('profile-image');
                        const profileIcon = document.getElementById('profile-icon');
                        
                        // حذف تصویر قبلی
                        const existingImg = profileImageElement.querySelector('img');
                        if (existingImg) {
                            existingImg.remove();
                        }
                        
                        profileIcon.style.display = 'none';
                        const img = document.createElement('img');
                        img.src = profileImage;
                        img.alt = 'Profile';
                        profileImageElement.appendChild(img);
                        
                        // بروزرسانی تصویر در بخش اطلاعات کاربری
                        updateUserInfoImage();
                        
                        showNotification('تصویر پروفایل بروزرسانی شد', 'success');
                    };
                    reader.readAsDataURL(file);
                }
            });
        }
        
        // بروزرسانی تصویر در بخش اطلاعات کاربری
        function updateUserInfoImage() {
            const largeProfileImage = document.querySelector('#user-info .profile-image');
            const largeProfileIcon = document.getElementById('large-profile-icon');
            
            if (profileImage) {
                // حذف تصویر قبلی
                const existingImg = largeProfileImage.querySelector('img');
                if (existingImg) {
                    existingImg.remove();
                }
                
                largeProfileIcon.style.display = 'none';
                const img = document.createElement('img');
                img.src = profileImage;
                img.alt = 'Profile';
                largeProfileImage.appendChild(img);
            }
        }
        
        // تغییر تصویر پروفایل از بخش اطلاعات کاربری
        function changeProfileImage(input) {
            const file = input.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    profileImage = e.target.result;
                    localStorage.setItem('profileImage', profileImage);
                    loadProfileImage();
                    updateUserInfoImage();
                    showNotification('تصویر پروفایل بروزرسانی شد', 'success');
                };
                reader.readAsDataURL(file);
            }
        }
        
        // ذخیره پروفایل
        function saveProfile() {
            const fullname = document.getElementById('user-fullname').value;
            const email = document.getElementById('user-email').value;
            const role = document.getElementById('user-role').value;
            
            if (!fullname || !email) {
                showNotification('لطفا تمام فیلدهای ضروری را پر کنید', 'error');
                return;
            }
            
            profileName = fullname;
            localStorage.setItem('profileName', profileName);
            localStorage.setItem('userEmail', email);
            localStorage.setItem('userRole', role);
            
            // بروزرسانی نام در سایدبار
            document.getElementById('profile-name').textContent = profileName;
            
            showNotification('اطلاعات پروفایل ذخیره شد', 'success');
        }
        
        // تابع نمایش نوتیفیکیشن
        function showNotification(message, type) {
            const notification = document.getElementById('notification');
            notification.innerHTML = `<i class="fas fa-${type === 'success' ? 'check-circle' : type === 'warning' ? 'exclamation-triangle' : 'times-circle'}"></i> ${message}`;
            notification.className = 'notification ' + type;
            notification.style.display = 'block';
            
            setTimeout(function() {
                notification.style.display = 'none';
            }, 4000);
        }
        
        // بارگذاری داده‌های تب
        function loadTabData(tabId) {
            switch(tabId) {
                case 'dashboard':
                    updateDashboardStats();
                    break;
                case 'my-articles':
                    loadArticles();
                    break;
                case 'pages':
                    loadPosts();
                    break;
                case 'products':
                    loadProducts();
                    break;
                case 'courses':
                    loadCourses();
                    break;
                case 'tools':
                    loadTools();
                    break;
                case 'images':
                    loadImages();
                    break;
                case 'prompts':
                    loadPrompts();
                    break;
                case 'users':
                    loadUsers();
                    break;
                case 'user-info':
                    updateUserInfoImage();
                    break;
            }
        }
        
        // بروزرسانی آمار داشبورد
        function updateDashboardStats() {
            document.getElementById('articles-count').textContent = articles.length;
            document.getElementById('products-count').textContent = products.length;
            document.getElementById('courses-count').textContent = courses.length;
            document.getElementById('users-count').textContent = users.length;
        }
        
        // جستجوی سراسری
        function performGlobalSearch(searchTerm) {
            if (!searchTerm) return;
            
            const activeTab = document.querySelector('.tab-content.active').id;
            
            switch(activeTab) {
                case 'my-articles':
                    searchArticles(searchTerm);
                    break;
                case 'pages':
                    searchPosts(searchTerm);
                    break;
                case 'products':
                    searchProducts(searchTerm);
                    break;
                case 'courses':
                    searchCourses(searchTerm);
                    break;
                case 'tools':
                    searchTools(searchTerm);
                    break;
                case 'images':
                    searchImages(searchTerm);
                    break;
                case 'prompts':
                    searchPrompts(searchTerm);
                    break;
                case 'users':
                    searchUsers(searchTerm);
                    break;
            }
        }
        
        // تنظیم ویرایشگر
        function setupEditor() {
            const editorToolbar = document.querySelector('.editor-toolbar');
            const editorContent = document.getElementById('article-content');
            const textColor = document.getElementById('text-color');
            const bgColor = document.getElementById('bg-color');
            const headingSelect = document.getElementById('heading-select');
            
            editorToolbar.addEventListener('click', function(e) {
                if (e.target.tagName === 'BUTTON' && e.target.hasAttribute('data-command')) {
                    e.preventDefault();
                    const command = e.target.getAttribute('data-command');
                    document.execCommand(command, false, null);
                    editorContent.focus();
                }
            });
            
            textColor.addEventListener('change', function() {
                document.execCommand('foreColor', false, this.value);
                editorContent.focus();
            });
            
            bgColor.addEventListener('change', function() {
                document.execCommand('backColor', false, this.value);
                editorContent.focus();
            });
            
            headingSelect.addEventListener('change', function() {
                if (this.value) {
                    document.execCommand('formatBlock', false, this.value);
                }
                editorContent.focus();
            });
        }
        
        // تنظیم تگ‌ها
        function setupTags() {
            const tagsInput = document.getElementById('article-tags');
            const tagsContainer = document.getElementById('tags-container');
            
            tagsInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    const tagText = this.value.trim();
                    if (tagText && !tags.includes(tagText)) {
                        addTag(tagText);
                        this.value = '';
                    }
                }
            });
        }
        
        // افزودن تگ
        function addTag(text) {
            tags.push(text);
            const tagsContainer = document.getElementById('tags-container');
            const tagElement = document.createElement('span');
            tagElement.className = 'tag';
            tagElement.innerHTML = `
                ${text}
                <button type="button" class="remove-tag" onclick="removeTag('${text}')">
                    <i class="fas fa-times"></i>
                </button>
            `;
            tagsContainer.appendChild(tagElement);
        }
        
        // حذف تگ
        function removeTag(tagText) {
            tags = tags.filter(tag => tag !== tagText);
            const tagsContainer = document.getElementById('tags-container');
            const tagElements = tagsContainer.querySelectorAll('.tag');
            tagElements.forEach(element => {
                if (element.textContent.trim().includes(tagText)) {
                    element.remove();
                }
            });
        }
        
        // تنظیم فرم‌ها
        function setupForms() {
            // فرم مقاله
            document.getElementById('article-form').addEventListener('submit', function(e) {
                e.preventDefault();
                saveArticle();
            });
            
            // فرم محصول
            document.getElementById('product-form').addEventListener('submit', function(e) {
                e.preventDefault();
                saveProduct();
            });
            
            // فرم دوره
            document.getElementById('course-form').addEventListener('submit', function(e) {
                e.preventDefault();
                saveCourse();
            });
            
            // فرم ابزار
            document.getElementById('tool-form').addEventListener('submit', function(e) {
                e.preventDefault();
                saveTool();
            });
            
            // فرم تصویر
            document.getElementById('image-form').addEventListener('submit', function(e) {
                e.preventDefault();
                saveImage();
            });
            
            // فرم پرامپت
            document.getElementById('prompt-form').addEventListener('submit', function(e) {
                e.preventDefault();
                savePrompt();
            });
            
            // فرم کاربر
            document.getElementById('user-form').addEventListener('submit', function(e) {
                e.preventDefault();
                saveUser();
            });
            
            // فرم پست
            document.getElementById('post-form').addEventListener('submit', function(e) {
                e.preventDefault();
                savePost();
            });
        }
        
        // تنظیم آپلود تصاویر
        function setupImageUploads() {
            // تصویر مقاله
            document.getElementById('article-image').addEventListener('change', function(e) {
                previewImage(e.target, 'image-preview');
            });
            
            // تصویر محصول
            document.getElementById('product-image').addEventListener('change', function(e) {
                previewImage(e.target, 'product-image-preview');
            });
            
            // تصویر دوره
            document.getElementById('course-image').addEventListener('change', function(e) {
                previewImage(e.target, 'course-image-preview');
            });
            
            // فایل تصویر
            document.getElementById('image-file').addEventListener('change', function(e) {
                previewImage(e.target, 'image-file-preview');
            });
            
            // تصویر تک اسلاید
            document.getElementById('post-single-image').addEventListener('change', function(e) {
                previewImage(e.target, 'post-single-preview');
            });
            
            // تصاویر چند اسلاید
            document.getElementById('post-carousel-images').addEventListener('change', function(e) {
                previewCarouselImages(e.target);
            });
            
            // ویدیو
            document.getElementById('post-video').addEventListener('change', function(e) {
                previewVideo(e.target, 'post-video-preview');
            });
        }
        
        // پیش‌نمایش تصویر
        function previewImage(input, previewId) {
            const file = input.files[0];
            const preview = document.getElementById(previewId);
            
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                };
                reader.readAsDataURL(file);
            }
        }
        
        // پیش‌نمایش تصاویر چندگانه
        function previewCarouselImages(input) {
            const files = input.files;
            const container = document.getElementById('carousel-previews');
            container.innerHTML = '';
            
            Array.from(files).forEach((file, index) => {
                if (index < 10) { // حداکثر 10 تصویر
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const img = document.createElement('img');
                        img.src = e.target.result;
                        img.style.width = '100px';
                        img.style.height = '100px';
                        img.style.objectFit = 'cover';
                        img.style.borderRadius = '8px';
                        img.style.border = '1px solid var(--border-color)';
                        container.appendChild(img);
                    };
                    reader.readAsDataURL(file);
                }
            });
        }
        
        // پیش‌نمایش ویدیو
        function previewVideo(input, previewId) {
            const file = input.files[0];
            const preview = document.getElementById(previewId);
            
            if (file) {
                const url = URL.createObjectURL(file);
                preview.src = url;
                preview.style.display = 'block';
            }
        }
        
        // بارگذاری داده‌های اولیه
        function loadInitialData() {
            // اگر داده‌ای وجود ندارد، داده‌های نمونه ایجاد کن
            if (articles.length === 0) {
                createSampleData();
            }
            
            loadTabData('dashboard');
        }
        
        // ایجاد داده‌های نمونه
        function createSampleData() {
            // مقالات نمونه
            articles = [
                {
                    id: 1,
                    title: 'آموزش HTML پیشرفته',
                    excerpt: 'در این مقاله به بررسی تگ‌های پیشرفته HTML می‌پردازیم',
                    content: '<p>محتوای کامل مقاله...</p>',
                    category: 'tech',
                    tags: ['HTML', 'وب'],
                    date: '1402/08/15',
                    status: 'published',
                    views: 245
                },
                {
                    id: 2,
                    title: 'یادگیری CSS در 30 دقیقه',
                    excerpt: 'راهنمای سریع برای یادگیری CSS',
                    content: '<p>محتوای کامل مقاله...</p>',
                    category: 'education',
                    tags: ['CSS', 'طراحی'],
                    date: '1402/08/10',
                    status: 'draft',
                    views: 0
                }
            ];
            
            // کاربران نمونه
            users = [
                {
                    id: 1,
                    name: 'محمد رضایی',
                    email: 'mohammad@example.com',
                    role: 'admin',
                    joinDate: '1402/01/15',
                    status: 'active'
                },
                {
                    id: 2,
                    name: 'فاطمه محمدی',
                    email: 'fatemeh@example.com',
                    role: 'editor',
                    joinDate: '1402/03/10',
                    status: 'active'
                }
            ];
            
            // محصولات نمونه
            products = [
                {
                    id: 1,
                    name: 'لپ‌تاپ گیمینگ',
                    price: 25000000,
                    description: 'لپ‌تاپ قدرتمند برای بازی و کار',
                    image: null
                }
            ];
            
            // ذخیره در localStorage
            localStorage.setItem('articles', JSON.stringify(articles));
            localStorage.setItem('users', JSON.stringify(users));
            localStorage.setItem('products', JSON.stringify(products));
        }
        
        // === توابع مدیریت مقالات ===
        
        // ذخیره مقاله
        function saveArticle() {
            const title = document.getElementById('article-title').value;
            const excerpt = document.getElementById('article-excerpt').value;
            const content = document.getElementById('article-content').innerHTML;
            const category = document.getElementById('article-category').value;
            
            if (!title || !content) {
                showNotification('لطفا عنوان و محتوای مقاله را وارد کنید', 'error');
                return;
            }
            
            const article = {
                id: currentEditingArticle ? currentEditingArticle.id : Date.now(),
                title,
                excerpt,
                content,
                category,
                tags: [...tags],
                date: new Date().toLocaleDateString('fa-IR'),
                status: 'published',
                views: currentEditingArticle ? currentEditingArticle.views : 0
            };
            
            if (currentEditingArticle) {
                const index = articles.findIndex(a => a.id === currentEditingArticle.id);
                articles[index] = article;
            } else {
                articles.push(article);
            }
            
            localStorage.setItem('articles', JSON.stringify(articles));
            showNotification('مقاله با موفقیت ذخیره شد', 'success');
            
            // پاک کردن فرم
            resetArticleForm();
            loadArticles();
        }
        
        // پاک کردن فرم مقاله
        function resetArticleForm() {
            document.getElementById('article-form').reset();
            document.getElementById('article-content').innerHTML = '';
            document.getElementById('image-preview').style.display = 'none';
            tags = [];
            document.getElementById('tags-container').innerHTML = '';
            currentEditingArticle = null;
        }
        
        // بارگذاری مقالات
        function loadArticles() {
            const tableBody = document.getElementById('articles-table-body');
            const emptyState = document.getElementById('articles-empty');
            
            if (articles.length === 0) {
                tableBody.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            tableBody.innerHTML = '';
            
            articles.forEach(article => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${article.title}</td>
                    <td>${article.category || 'بدون دسته‌بندی'}</td>
                    <td>${article.date}</td>
                    <td>
                        <span class="status-badge status-${article.status}">
                            ${article.status === 'published' ? 'منتشر شده' : 'پیش‌نویس'}
                        </span>
                    </td>
                    <td>${article.views}</td>
                    <td>
                        <button class="btn btn-primary btn-sm" onclick="editArticle(${article.id})">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-danger btn-sm" onclick="deleteArticle(${article.id})">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }
        
        // ویرایش مقاله
        function editArticle(id) {
            const article = articles.find(a => a.id === id);
            if (!article) return;
            
            currentEditingArticle = article;
            
            document.getElementById('article-title').value = article.title;
            document.getElementById('article-excerpt').value = article.excerpt || '';
            document.getElementById('article-content').innerHTML = article.content;
            document.getElementById('article-category').value = article.category || '';
            
            // بارگذاری تگ‌ها
            tags = [...article.tags];
            const tagsContainer = document.getElementById('tags-container');
            tagsContainer.innerHTML = '';
            tags.forEach(tag => {
                const tagElement = document.createElement('span');
                tagElement.className = 'tag';
                tagElement.innerHTML = `
                    ${tag}
                    <button type="button" class="remove-tag" onclick="removeTag('${tag}')">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                tagsContainer.appendChild(tagElement);
            });
            
            // تغییر به تب نوشتن مقاله
            document.querySelector('[data-tab="write-article"]').click();
            showNotification('مقاله برای ویرایش بارگذاری شد', 'success');
        }
        
        // حذف مقاله
        function deleteArticle(id) {
            if (confirm('آیا از حذف این مقاله اطمینان دارید؟')) {
                articles = articles.filter(a => a.id !== id);
                localStorage.setItem('articles', JSON.stringify(articles));
                loadArticles();
                showNotification('مقاله حذف شد', 'success');
            }
        }
        
        // جستجو در مقالات
        function searchArticles(searchTerm) {
            const filteredArticles = articles.filter(article => 
                article.title.toLowerCase().includes(searchTerm) ||
                article.content.toLowerCase().includes(searchTerm) ||
                article.tags.some(tag => tag.toLowerCase().includes(searchTerm))
            );
            
            displayFilteredArticles(filteredArticles);
        }
        
        // نمایش مقالات فیلتر شده
        function displayFilteredArticles(filteredArticles) {
            const tableBody = document.getElementById('articles-table-body');
            const emptyState = document.getElementById('articles-empty');
            
            if (filteredArticles.length === 0) {
                tableBody.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            tableBody.innerHTML = '';
            
            filteredArticles.forEach(article => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${article.title}</td>
                    <td>${article.category || 'بدون دسته‌بندی'}</td>
                    <td>${article.date}</td>
                    <td>
                        <span class="status-badge status-${article.status}">
                            ${article.status === 'published' ? 'منتشر شده' : 'پیش‌نویس'}
                        </span>
                    </td>
                    <td>${article.views}</td>
                    <td>
                        <button class="btn btn-primary btn-sm" onclick="editArticle(${article.id})">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-danger btn-sm" onclick="deleteArticle(${article.id})">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }
        
        // === توابع مدیریت محصولات ===
        
        // ذخیره محصول
        function saveProduct() {
            const name = document.getElementById('product-name').value;
            const price = document.getElementById('product-price').value;
            const description = document.getElementById('product-description').value;
            const imageFile = document.getElementById('product-image').files[0];
            
            if (!name || !price || !description) {
                showNotification('لطفا تمام فیلدها را پر کنید', 'error');
                return;
            }
            
            const product = {
                id: currentEditingItem ? currentEditingItem.id : Date.now(),
                name,
                price: parseInt(price),
                description,
                image: imageFile ? URL.createObjectURL(imageFile) : (currentEditingItem ? currentEditingItem.image : null),
                date: new Date().toLocaleDateString('fa-IR')
            };
            
            if (currentEditingItem) {
                const index = products.findIndex(p => p.id === currentEditingItem.id);
                products[index] = product;
            } else {
                products.push(product);
            }
            
            localStorage.setItem('products', JSON.stringify(products));
            showNotification('محصول با موفقیت ذخیره شد', 'success');
            
            closeModal('product-modal');
            resetProductForm();
            loadProducts();
        }
        
        // پاک کردن فرم محصول
        function resetProductForm() {
            document.getElementById('product-form').reset();
            document.getElementById('product-image-preview').style.display = 'none';
            document.getElementById('product-id').value = '';
            currentEditingItem = null;
        }
        
        // بارگذاری محصولات
        function loadProducts() {
            const container = document.getElementById('products-container');
            const emptyState = document.getElementById('products-empty');
            
            if (products.length === 0) {
                container.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            container.innerHTML = '';
            
            products.forEach(product => {
                const card = document.createElement('div');
                card.className = 'product-card';
                card.innerHTML = `
                    <div class="product-image">
                        ${product.image ? `<img src="${product.image}" alt="${product.name}">` : '<i class="fas fa-box"></i>'}
                    </div>
                    <div class="product-info">
                        <div class="product-title">${product.name}</div>
                        <div class="product-price">${product.price.toLocaleString()} تومان</div>
                        <p style="color: #6b7280; font-size: 14px; margin-bottom: 15px;">${product.description}</p>
                        <div class="product-actions">
                            <button class="btn btn-primary btn-sm" onclick="editProduct(${product.id})">
                                <i class="fas fa-edit"></i> ویرایش
                            </button>
                            <button class="btn btn-danger btn-sm" onclick="deleteProduct(${product.id})">
                                <i class="fas fa-trash"></i> حذف
                            </button>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }
        
        // ویرایش محصول
        function editProduct(id) {
            const product = products.find(p => p.id === id);
            if (!product) return;
            
            currentEditingItem = product;
            
            document.getElementById('product-modal-title').textContent = 'ویرایش محصول';
            document.getElementById('product-id').value = product.id;
            document.getElementById('product-name').value = product.name;
            document.getElementById('product-price').value = product.price;
            document.getElementById('product-description').value = product.description;
            
            if (product.image) {
                const preview = document.getElementById('product-image-preview');
                preview.src = product.image;
                preview.style.display = 'block';
            }
            
            openModal('product-modal');
        }
        
        // حذف محصول
        function deleteProduct(id) {
            if (confirm('آیا از حذف این محصول اطمینان دارید؟')) {
                products = products.filter(p => p.id !== id);
                localStorage.setItem('products', JSON.stringify(products));
                loadProducts();
                showNotification('محصول حذف شد', 'success');
            }
        }
        
        // جستجو در محصولات
        function searchProducts(searchTerm) {
            const filteredProducts = products.filter(product => 
                product.name.toLowerCase().includes(searchTerm) ||
                product.description.toLowerCase().includes(searchTerm)
            );
            
            displayFilteredProducts(filteredProducts);
        }
        
        // نمایش محصولات فیلتر شده
        function displayFilteredProducts(filteredProducts) {
            const container = document.getElementById('products-container');
            const emptyState = document.getElementById('products-empty');
            
            if (filteredProducts.length === 0) {
                container.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            container.innerHTML = '';
            
            filteredProducts.forEach(product => {
                const card = document.createElement('div');
                card.className = 'product-card';
                card.innerHTML = `
                    <div class="product-image">
                        ${product.image ? `<img src="${product.image}" alt="${product.name}">` : '<i class="fas fa-box"></i>'}
                    </div>
                    <div class="product-info">
                        <div class="product-title">${product.name}</div>
                        <div class="product-price">${product.price.toLocaleString()} تومان</div>
                        <p style="color: #6b7280; font-size: 14px; margin-bottom: 15px;">${product.description}</p>
                        <div class="product-actions">
                            <button class="btn btn-primary btn-sm" onclick="editProduct(${product.id})">
                                <i class="fas fa-edit"></i> ویرایش
                            </button>
                            <button class="btn btn-danger btn-sm" onclick="deleteProduct(${product.id})">
                                <i class="fas fa-trash"></i> حذف
                            </button>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }
        
        // === توابع مدیریت دوره‌ها ===
        
        // ذخیره دوره
        function saveCourse() {
            const name = document.getElementById('course-name').value;
            const price = document.getElementById('course-price').value;
            const duration = document.getElementById('course-duration').value;
            const description = document.getElementById('course-description').value;
            const imageFile = document.getElementById('course-image').files[0];
            
            if (!name || !price || !duration || !description) {
                showNotification('لطفا تمام فیلدها را پر کنید', 'error');
                return;
            }
            
            const course = {
                id: currentEditingItem ? currentEditingItem.id : Date.now(),
                name,
                price: parseInt(price),
                duration: parseInt(duration),
                description,
                image: imageFile ? URL.createObjectURL(imageFile) : (currentEditingItem ? currentEditingItem.image : null),
                students: currentEditingItem ? currentEditingItem.students : 0,
                date: new Date().toLocaleDateString('fa-IR')
            };
            
            if (currentEditingItem) {
                const index = courses.findIndex(c => c.id === currentEditingItem.id);
                courses[index] = course;
            } else {
                courses.push(course);
            }
            
            localStorage.setItem('courses', JSON.stringify(courses));
            showNotification('دوره با موفقیت ذخیره شد', 'success');
            
            closeModal('course-modal');
            resetCourseForm();
            loadCourses();
        }
        
        // پاک کردن فرم دوره
        function resetCourseForm() {
            document.getElementById('course-form').reset();
            document.getElementById('course-image-preview').style.display = 'none';
            document.getElementById('course-id').value = '';
            currentEditingItem = null;
        }
        
        // بارگذاری دوره‌ها
        function loadCourses() {
            const container = document.getElementById('courses-container');
            const emptyState = document.getElementById('courses-empty');
            
            if (courses.length === 0) {
                container.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            container.innerHTML = '';
            
            courses.forEach(course => {
                const card = document.createElement('div');
                card.className = 'product-card';
                card.innerHTML = `
                    <div class="product-image" style="background: linear-gradient(135deg, #10b981, #059669);">
                        ${course.image ? `<img src="${course.image}" alt="${course.name}">` : '<i class="fas fa-graduation-cap"></i>'}
                    </div>
                    <div class="product-info">
                        <div class="product-title">${course.name}</div>
                        <div class="product-price">${course.price.toLocaleString()} تومان</div>
                        <p style="color: #6b7280; font-size: 14px; margin-bottom: 15px;">${course.description}</p>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 15px; font-size: 14px;">
                            <span>مدت: ${course.duration} ساعت</span>
                            <span>دانشجو: ${course.students}</span>
                        </div>
                        <div class="product-actions">
                            <button class="btn btn-primary btn-sm" onclick="editCourse(${course.id})">
                                <i class="fas fa-edit"></i> ویرایش
                            </button>
                            <button class="btn btn-danger btn-sm" onclick="deleteCourse(${course.id})">
                                <i class="fas fa-trash"></i> حذف
                            </button>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }
        
        // ویرایش دوره
        function editCourse(id) {
            const course = courses.find(c => c.id === id);
            if (!course) return;
            
            currentEditingItem = course;
            
            document.getElementById('course-modal-title').textContent = 'ویرایش دوره';
            document.getElementById('course-id').value = course.id;
            document.getElementById('course-name').value = course.name;
            document.getElementById('course-price').value = course.price;
            document.getElementById('course-duration').value = course.duration;
            document.getElementById('course-description').value = course.description;
            
            if (course.image) {
                const preview = document.getElementById('course-image-preview');
                preview.src = course.image;
                preview.style.display = 'block';
            }
            
            openModal('course-modal');
        }
        
        // حذف دوره
        function deleteCourse(id) {
            if (confirm('آیا از حذف این دوره اطمینان دارید؟')) {
                courses = courses.filter(c => c.id !== id);
                localStorage.setItem('courses', JSON.stringify(courses));
                loadCourses();
                showNotification('دوره حذف شد', 'success');
            }
        }
        
        // جستجو در دوره‌ها
        function searchCourses(searchTerm) {
            const filteredCourses = courses.filter(course => 
                course.name.toLowerCase().includes(searchTerm) ||
                course.description.toLowerCase().includes(searchTerm)
            );
            
            displayFilteredCourses(filteredCourses);
        }
        
        // نمایش دوره‌های فیلتر شده
        function displayFilteredCourses(filteredCourses) {
            const container = document.getElementById('courses-container');
            const emptyState = document.getElementById('courses-empty');
            
            if (filteredCourses.length === 0) {
                container.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            container.innerHTML = '';
            
            filteredCourses.forEach(course => {
                const card = document.createElement('div');
                card.className = 'product-card';
                card.innerHTML = `
                    <div class="product-image" style="background: linear-gradient(135deg, #10b981, #059669);">
                        ${course.image ? `<img src="${course.image}" alt="${course.name}">` : '<i class="fas fa-graduation-cap"></i>'}
                    </div>
                    <div class="product-info">
                        <div class="product-title">${course.name}</div>
                        <div class="product-price">${course.price.toLocaleString()} تومان</div>
                        <p style="color: #6b7280; font-size: 14px; margin-bottom: 15px;">${course.description}</p>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 15px; font-size: 14px;">
                            <span>مدت: ${course.duration} ساعت</span>
                            <span>دانشجو: ${course.students}</span>
                        </div>
                        <div class="product-actions">
                            <button class="btn btn-primary btn-sm" onclick="editCourse(${course.id})">
                                <i class="fas fa-edit"></i> ویرایش
                            </button>
                            <button class="btn btn-danger btn-sm" onclick="deleteCourse(${course.id})">
                                <i class="fas fa-trash"></i> حذف
                            </button>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }
        
        // === توابع مدیریت ابزارها ===
        
        // ذخیره ابزار
        function saveTool() {
            const name = document.getElementById('tool-name').value;
            const category = document.getElementById('tool-category').value;
            const description = document.getElementById('tool-description').value;
            const link = document.getElementById('tool-link').value;
            const icon = document.getElementById('tool-icon').value;
            
            if (!name || !category || !description) {
                showNotification('لطفا فیلدهای ضروری را پر کنید', 'error');
                return;
            }
            
            const tool = {
                id: currentEditingItem ? currentEditingItem.id : Date.now(),
                name,
                category,
                description,
                link,
                icon: icon || 'fas fa-tools',
                date: new Date().toLocaleDateString('fa-IR')
            };
            
            if (currentEditingItem) {
                const index = tools.findIndex(t => t.id === currentEditingItem.id);
                tools[index] = tool;
            } else {
                tools.push(tool);
            }
            
            localStorage.setItem('tools', JSON.stringify(tools));
            showNotification('ابزار با موفقیت ذخیره شد', 'success');
            
            closeModal('tool-modal');
            resetToolForm();
            loadTools();
        }
        
        // پاک کردن فرم ابزار
        function resetToolForm() {
            document.getElementById('tool-form').reset();
            document.getElementById('tool-id').value = '';
            document.getElementById('tool-icon').value = 'fas fa-tools';
            currentEditingItem = null;
        }
        
        // بارگذاری ابزارها
        function loadTools() {
            const container = document.getElementById('tools-container');
            const emptyState = document.getElementById('tools-empty');
            
            if (tools.length === 0) {
                container.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            container.innerHTML = '';
            
            tools.forEach(tool => {
                const card = document.createElement('div');
                card.style.cssText = 'background: white; padding: 20px; border-radius: 12px; border: 1px solid var(--border-color);';
                card.innerHTML = `
                    <div style="display: flex; align-items: center; margin-bottom: 15px;">
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; margin-left: 15px;">
                            <i class="${tool.icon}"></i>
                        </div>
                        <div>
                            <h3 style="margin: 0; color: var(--dark-color);">${tool.name}</h3>
                            <p style="margin: 0; color: #6b7280; font-size: 14px;">${tool.category}</p>
                        </div>
                    </div>
                    <p style="color: #6b7280; margin-bottom: 15px;">${tool.description}</p>
                    <div style="display: flex; gap: 10px;">
                        ${tool.link ? `<a href="${tool.link}" target="_blank" class="btn btn-primary btn-sm" style="text-decoration: none;">
                            <i class="fas fa-external-link-alt"></i> مشاهده
                        </a>` : ''}
                        <button class="btn btn-warning btn-sm" onclick="editTool(${tool.id})">
                            <i class="fas fa-edit"></i> ویرایش
                        </button>
                        <button class="btn btn-danger btn-sm" onclick="deleteTool(${tool.id})">
                            <i class="fas fa-trash"></i> حذف
                        </button>
                    </div>
                `;
                container.appendChild(card);
            });
        }
        
        // ویرایش ابزار
        function editTool(id) {
            const tool = tools.find(t => t.id === id);
            if (!tool) return;
            
            currentEditingItem = tool;
            
            document.getElementById('tool-modal-title').textContent = 'ویرایش ابزار';
            document.getElementById('tool-id').value = tool.id;
            document.getElementById('tool-name').value = tool.name;
            document.getElementById('tool-category').value = tool.category;
            document.getElementById('tool-description').value = tool.description;
            document.getElementById('tool-link').value = tool.link || '';
            document.getElementById('tool-icon').value = tool.icon;
            
            openModal('tool-modal');
        }
        
        // حذف ابزار
        function deleteTool(id) {
            if (confirm('آیا از حذف این ابزار اطمینان دارید؟')) {
                tools = tools.filter(t => t.id !== id);
                localStorage.setItem('tools', JSON.stringify(tools));
                loadTools();
                showNotification('ابزار حذف شد', 'success');
            }
        }
        
        // جستجو در ابزارها
        function searchTools(searchTerm) {
            const filteredTools = tools.filter(tool => 
                tool.name.toLowerCase().includes(searchTerm) ||
                tool.description.toLowerCase().includes(searchTerm) ||
                tool.category.toLowerCase().includes(searchTerm)
            );
            
            displayFilteredTools(filteredTools);
        }
        
        // نمایش ابزارهای فیلتر شده
        function displayFilteredTools(filteredTools) {
            const container = document.getElementById('tools-container');
            const emptyState = document.getElementById('tools-empty');
            
            if (filteredTools.length === 0) {
                container.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            container.innerHTML = '';
            
            filteredTools.forEach(tool => {
                const card = document.createElement('div');
                card.style.cssText = 'background: white; padding: 20px; border-radius: 12px; border: 1px solid var(--border-color);';
                card.innerHTML = `
                    <div style="display: flex; align-items: center; margin-bottom: 15px;">
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; margin-left: 15px;">
                            <i class="${tool.icon}"></i>
                        </div>
                        <div>
                            <h3 style="margin: 0; color: var(--dark-color);">${tool.name}</h3>
                            <p style="margin: 0; color: #6b7280; font-size: 14px;">${tool.category}</p>
                        </div>
                    </div>
                    <p style="color: #6b7280; margin-bottom: 15px;">${tool.description}</p>
                    <div style="display: flex; gap: 10px;">
                        ${tool.link ? `<a href="${tool.link}" target="_blank" class="btn btn-primary btn-sm" style="text-decoration: none;">
                            <i class="fas fa-external-link-alt"></i> مشاهده
                        </a>` : ''}
                        <button class="btn btn-warning btn-sm" onclick="editTool(${tool.id})">
                            <i class="fas fa-edit"></i> ویرایش
                        </button>
                        <button class="btn btn-danger btn-sm" onclick="deleteTool(${tool.id})">
                            <i class="fas fa-trash"></i> حذف
                        </button>
                    </div>
                `;
                container.appendChild(card);
            });
        }
        
        // === توابع مدیریت تصاویر ===
        
        // ذخیره تصویر
        function saveImage() {
            const name = document.getElementById('image-name').value;
            const description = document.getElementById('image-description').value;
            const imageFile = document.getElementById('image-file').files[0];
            
            if (!name || !imageFile) {
                showNotification('لطفا نام و فایل تصویر را وارد کنید', 'error');
                return;
            }
            
            const image = {
                id: currentEditingItem ? currentEditingItem.id : Date.now(),
                name,
                description,
                file: URL.createObjectURL(imageFile),
                size: (imageFile.size / 1024 / 1024).toFixed(2) + ' MB',
                dimensions: '1920x1080', // در پروژه واقعی باید از FileReader استفاده کرد
                date: new Date().toLocaleDateString('fa-IR')
            };
            
            if (currentEditingItem) {
                const index = images.findIndex(i => i.id === currentEditingItem.id);
                images[index] = image;
            } else {
                images.push(image);
            }
            
            localStorage.setItem('images', JSON.stringify(images));
            showNotification('تصویر با موفقیت ذخیره شد', 'success');
            
            closeModal('image-modal');
            resetImageForm();
            loadImages();
        }
        
        // پاک کردن فرم تصویر
        function resetImageForm() {
            document.getElementById('image-form').reset();
            document.getElementById('image-file-preview').style.display = 'none';
            document.getElementById('image-id').value = '';
            currentEditingItem = null;
        }
        
        // بارگذاری تصاویر
        function loadImages() {
            const container = document.getElementById('images-container');
            const emptyState = document.getElementById('images-empty');
            
            if (images.length === 0) {
                container.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            container.innerHTML = '';
            
            images.forEach(image => {
                const card = document.createElement('div');
                card.style.cssText = 'background: white; border-radius: 12px; overflow: hidden; border: 1px solid var(--border-color);';
                card.innerHTML = `
                    <div style="width: 100%; height: 150px; background: linear-gradient(135deg, #667eea, #764ba2); display: flex; align-items: center; justify-content: center; color: white; font-size: 48px; overflow: hidden;">
                        ${image.file ? `<img src="${image.file}" alt="${image.name}" style="width: 100%; height: 100%; object-fit: cover;">` : '<i class="fas fa-image"></i>'}
                    </div>
                    <div style="padding: 15px;">
                        <h4 style="margin: 0 0 10px 0; color: var(--dark-color);">${image.name}</h4>
                        <p style="margin: 0 0 15px 0; color: #6b7280; font-size: 14px;">${image.dimensions} - ${image.size}</p>
                        <div style="display: flex; gap: 10px;">
                            <button class="btn btn-primary btn-sm" onclick="viewImage(${image.id})">
                                <i class="fas fa-eye"></i> مشاهده
                            </button>
                            <button class="btn btn-warning btn-sm" onclick="editImage(${image.id})">
                                <i class="fas fa-edit"></i> ویرایش
                            </button>
                            <button class="btn btn-danger btn-sm" onclick="deleteImage(${image.id})">
                                <i class="fas fa-trash"></i> حذف
                            </button>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }
        
        // مشاهده تصویر
        function viewImage(id) {
            const image = images.find(i => i.id === id);
            if (!image) return;
            
            // ایجاد مودال برای نمایش تصویر
            const modal = document.createElement('div');
            modal.className = 'modal';
            modal.style.display = 'block';
            modal.innerHTML = `
                <div class="modal-content" style="max-width: 90%; max-height: 90%;">
                    <div class="modal-header">
                        <h2>${image.name}</h2>
                        <button class="modal-close" onclick="this.closest('.modal').remove()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div style="text-align: center;">
                        <img src="${image.file}" alt="${image.name}" style="max-width: 100%; max-height: 70vh; object-fit: contain;">
                        <p style="margin-top: 15px; color: #6b7280;">${image.description || 'بدون توضیحات'}</p>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }
        
        // ویرایش تصویر
        function editImage(id) {
            const image = images.find(i => i.id === id);
            if (!image) return;
            
            currentEditingItem = image;
            
            document.getElementById('image-modal-title').textContent = 'ویرایش تصویر';
            document.getElementById('image-id').value = image.id;
            document.getElementById('image-name').value = image.name;
            document.getElementById('image-description').value = image.description || '';
            
            if (image.file) {
                const preview = document.getElementById('image-file-preview');
                preview.src = image.file;
                preview.style.display = 'block';
            }
            
            openModal('image-modal');
        }
        
        // حذف تصویر
        function deleteImage(id) {
            if (confirm('آیا از حذف این تصویر اطمینان دارید؟')) {
                images = images.filter(i => i.id !== id);
                localStorage.setItem('images', JSON.stringify(images));
                loadImages();
                showNotification('تصویر حذف شد', 'success');
            }
        }
        
        // جستجو در تصاویر
        function searchImages(searchTerm) {
            const filteredImages = images.filter(image => 
                image.name.toLowerCase().includes(searchTerm) ||
                (image.description && image.description.toLowerCase().includes(searchTerm))
            );
            
            displayFilteredImages(filteredImages);
        }
        
        // نمایش تصاویر فیلتر شده
        function displayFilteredImages(filteredImages) {
            const container = document.getElementById('images-container');
            const emptyState = document.getElementById('images-empty');
            
            if (filteredImages.length === 0) {
                container.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            container.innerHTML = '';
            
            filteredImages.forEach(image => {
                const card = document.createElement('div');
                card.style.cssText = 'background: white; border-radius: 12px; overflow: hidden; border: 1px solid var(--border-color);';
                card.innerHTML = `
                    <div style="width: 100%; height: 150px; background: linear-gradient(135deg, #667eea, #764ba2); display: flex; align-items: center; justify-content: center; color: white; font-size: 48px; overflow: hidden;">
                        ${image.file ? `<img src="${image.file}" alt="${image.name}" style="width: 100%; height: 100%; object-fit: cover;">` : '<i class="fas fa-image"></i>'}
                    </div>
                    <div style="padding: 15px;">
                        <h4 style="margin: 0 0 10px 0; color: var(--dark-color);">${image.name}</h4>
                        <p style="margin: 0 0 15px 0; color: #6b7280; font-size: 14px;">${image.dimensions} - ${image.size}</p>
                        <div style="display: flex; gap: 10px;">
                            <button class="btn btn-primary btn-sm" onclick="viewImage(${image.id})">
                                <i class="fas fa-eye"></i> مشاهده
                            </button>
                            <button class="btn btn-warning btn-sm" onclick="editImage(${image.id})">
                                <i class="fas fa-edit"></i> ویرایش
                            </button>
                            <button class="btn btn-danger btn-sm" onclick="deleteImage(${image.id})">
                                <i class="fas fa-trash"></i> حذف
                            </button>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }
        
        // === توابع مدیریت پرامپت‌ها ===
        
        // ذخیره پرامپت
        function savePrompt() {
            const title = document.getElementById('prompt-title').value;
            const category = document.getElementById('prompt-category').value;
            const content = document.getElementById('prompt-content').value;
            
            if (!title || !category || !content) {
                showNotification('لطفا تمام فیلدها را پر کنید', 'error');
                return;
            }
            
            const prompt = {
                id: currentEditingItem ? currentEditingItem.id : Date.now(),
                title,
                category,
                content,
                usage: currentEditingItem ? currentEditingItem.usage : 0,
                date: new Date().toLocaleDateString('fa-IR')
            };
            
            if (currentEditingItem) {
                const index = prompts.findIndex(p => p.id === currentEditingItem.id);
                prompts[index] = prompt;
            } else {
                prompts.push(prompt);
            }
            
            localStorage.setItem('prompts', JSON.stringify(prompts));
            showNotification('پرامپت با موفقیت ذخیره شد', 'success');
            
            closeModal('prompt-modal');
            resetPromptForm();
            loadPrompts();
        }
        
        // پاک کردن فرم پرامپت
        function resetPromptForm() {
            document.getElementById('prompt-form').reset();
            document.getElementById('prompt-id').value = '';
            currentEditingItem = null;
        }
        
        // بارگذاری پرامپت‌ها
        function loadPrompts() {
            const container = document.getElementById('prompts-container');
            const emptyState = document.getElementById('prompts-empty');
            
            if (prompts.length === 0) {
                container.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            container.innerHTML = '';
            
            prompts.forEach(prompt => {
                const card = document.createElement('div');
                card.style.cssText = 'background: white; padding: 20px; border-radius: 12px; border: 1px solid var(--border-color);';
                card.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px;">
                        <div>
                            <h3 style="margin: 0 0 5px 0; color: var(--dark-color);">${prompt.title}</h3>
                            <span class="post-type ${prompt.category}" style="padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; background: #667eea; color: white;">${getCategoryName(prompt.category)}</span>
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button class="btn btn-primary btn-sm" onclick="copyPrompt(${prompt.id})">
                                <i class="fas fa-copy"></i> کپی
                            </button>
                            <button class="btn btn-warning btn-sm" onclick="editPrompt(${prompt.id})">
                                <i class="fas fa-edit"></i> ویرایش
                            </button>
                            <button class="btn btn-danger btn-sm" onclick="deletePrompt(${prompt.id})">
                                <i class="fas fa-trash"></i> حذف
                            </button>
                        </div>
                    </div>
                    <p style="color: #6b7280; margin-bottom: 15px; line-height: 1.6;">${prompt.content.substring(0, 200)}${prompt.content.length > 200 ? '...' : ''}</p>
                    <div style="display: flex; justify-content: space-between; align-items: center; font-size: 14px; color: #6b7280;">
                        <span>تاریخ ایجاد: ${prompt.date}</span>
                        <span>استفاده: ${prompt.usage} بار</span>
                    </div>
                `;
                container.appendChild(card);
            });
        }
        
        // دریافت نام دسته‌بندی
        function getCategoryName(category) {
            const categories = {
                'writing': 'نوشتن',
                'creativity': 'خلاقیت',
                'analysis': 'تحلیل',
                'coding': 'برنامه‌نویسی'
            };
            return categories[category] || category;
        }
        
        // کپی پرامپت
        function copyPrompt(id) {
            const prompt = prompts.find(p => p.id === id);
            if (!prompt) return;
            
            navigator.clipboard.writeText(prompt.content).then(() => {
                // افزایش تعداد استفاده
                prompt.usage++;
                localStorage.setItem('prompts', JSON.stringify(prompts));
                loadPrompts();
                showNotification('پرامپت کپی شد', 'success');
            }).catch(() => {
                showNotification('خطا در کپی کردن', 'error');
            });
        }
        
        // ویرایش پرامپت
        function editPrompt(id) {
            const prompt = prompts.find(p => p.id === id);
            if (!prompt) return;
            
            currentEditingItem = prompt;
            
            document.getElementById('prompt-modal-title').textContent = 'ویرایش پرامپت';
            document.getElementById('prompt-id').value = prompt.id;
            document.getElementById('prompt-title').value = prompt.title;
            document.getElementById('prompt-category').value = prompt.category;
            document.getElementById('prompt-content').value = prompt.content;
            
            openModal('prompt-modal');
        }
        
        // حذف پرامپت
        function deletePrompt(id) {
            if (confirm('آیا از حذف این پرامپت اطمینان دارید؟')) {
                prompts = prompts.filter(p => p.id !== id);
                localStorage.setItem('prompts', JSON.stringify(prompts));
                loadPrompts();
                showNotification('پرامپت حذف شد', 'success');
            }
        }
        
        // جستجو در پرامپت‌ها
        function searchPrompts(searchTerm) {
            const filteredPrompts = prompts.filter(prompt => 
                prompt.title.toLowerCase().includes(searchTerm) ||
                prompt.content.toLowerCase().includes(searchTerm)
            );
            
            displayFilteredPrompts(filteredPrompts);
        }
        
        // نمایش پرامپت‌های فیلتر شده
        function displayFilteredPrompts(filteredPrompts) {
            const container = document.getElementById('prompts-container');
            const emptyState = document.getElementById('prompts-empty');
            
            if (filteredPrompts.length === 0) {
                container.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            container.innerHTML = '';
            
            filteredPrompts.forEach(prompt => {
                const card = document.createElement('div');
                card.style.cssText = 'background: white; padding: 20px; border-radius: 12px; border: 1px solid var(--border-color);';
                card.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px;">
                        <div>
                            <h3 style="margin: 0 0 5px 0; color: var(--dark-color);">${prompt.title}</h3>
                            <span class="post-type ${prompt.category}" style="padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; background: #667eea; color: white;">${getCategoryName(prompt.category)}</span>
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button class="btn btn-primary btn-sm" onclick="copyPrompt(${prompt.id})">
                                <i class="fas fa-copy"></i> کپی
                            </button>
                            <button class="btn btn-warning btn-sm" onclick="editPrompt(${prompt.id})">
                                <i class="fas fa-edit"></i> ویرایش
                            </button>
                            <button class="btn btn-danger btn-sm" onclick="deletePrompt(${prompt.id})">
                                <i class="fas fa-trash"></i> حذف
                            </button>
                        </div>
                    </div>
                    <p style="color: #6b7280; margin-bottom: 15px; line-height: 1.6;">${prompt.content.substring(0, 200)}${prompt.content.length > 200 ? '...' : ''}</p>
                    <div style="display: flex; justify-content: space-between; align-items: center; font-size: 14px; color: #6b7280;">
                        <span>تاریخ ایجاد: ${prompt.date}</span>
                        <span>استفاده: ${prompt.usage} بار</span>
                    </div>
                `;
                container.appendChild(card);
            });
        }
        
        // === توابع مدیریت کاربران ===
        
        // ذخیره کاربر
        function saveUser() {
            const name = document.getElementById('user-name').value;
            const email = document.getElementById('user-email').value;
            const role = document.getElementById('user-role').value;
            const password = document.getElementById('user-password').value;
            const status = document.getElementById('user-status').value;
            
            if (!name || !email || !role) {
                showNotification('لطفا فیلدهای ضروری را پر کنید', 'error');
                return;
            }
            
            // بررسی تکراری بودن ایمیل
            const existingUser = users.find(u => u.email === email && (!currentEditingItem || u.id !== currentEditingItem.id));
            if (existingUser) {
                showNotification('این ایمیل قبلاً استفاده شده است', 'error');
                return;
            }
            
            const user = {
                id: currentEditingItem ? currentEditingItem.id : Date.now(),
                name,
                email,
                role,
                status,
                joinDate: currentEditingItem ? currentEditingItem.joinDate : new Date().toLocaleDateString('fa-IR'),
                lastLogin: currentEditingItem ? currentEditingItem.lastLogin : 'هرگز'
            };
            
            // اگر رمز عبور وارد شده باشد، آن را ذخیره کن
            if (password) {
                user.password = password; // در پروژه واقعی باید هش شود
            } else if (currentEditingItem) {
                user.password = currentEditingItem.password;
            }
            
            if (currentEditingItem) {
                const index = users.findIndex(u => u.id === currentEditingItem.id);
                users[index] = user;
            } else {
                users.push(user);
            }
            
            localStorage.setItem('users', JSON.stringify(users));
            showNotification('کاربر با موفقیت ذخیره شد', 'success');
            
            closeModal('user-modal');
            resetUserForm();
            loadUsers();
        }
        
        // پاک کردن فرم کاربر
        function resetUserForm() {
            document.getElementById('user-form').reset();
            document.getElementById('user-id').value = '';
            currentEditingItem = null;
        }
        
        // بارگذاری کاربران
        function loadUsers() {
            const tableBody = document.getElementById('users-table-body');
            const emptyState = document.getElementById('users-empty');
            
            if (users.length === 0) {
                tableBody.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            tableBody.innerHTML = '';
            
            users.forEach(user => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #667eea, #764ba2); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">
                                ${user.name.charAt(0)}
                            </div>
                            ${user.name}
                        </div>
                    </td>
                    <td>${user.email}</td>
                    <td><span class="status-badge" style="background: ${getRoleColor(user.role)}; color: white;">${getRoleName(user.role)}</span></td>
                    <td>${user.joinDate}</td>
                    <td><span class="status-badge status-${user.status}">${getStatusName(user.status)}</span></td>
                    <td>
                        <button class="btn btn-primary btn-sm" onclick="editUser(${user.id})">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-danger btn-sm" onclick="deleteUser(${user.id})">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }
        
        // دریافت رنگ نقش
        function getRoleColor(role) {
            const colors = {
                'admin': '#ef4444',
                'editor': '#667eea',
                'author': '#10b981',
                'user': '#6b7280'
            };
            return colors[role] || '#6b7280';
        }
        
        // دریافت نام نقش
        function getRoleName(role) {
            const roles = {
                'admin': 'مدیر',
                'editor': 'ویرایشگر',
                'author': 'نویسنده',
                'user': 'کاربر'
            };
            return roles[role] || role;
        }
        
        // دریافت نام وضعیت
        function getStatusName(status) {
            const statuses = {
                'active': 'فعال',
                'inactive': 'غیرفعال',
                'pending': 'در انتظار'
            };
            return statuses[status] || status;
        }
        
        // ویرایش کاربر
        function editUser(id) {
            const user = users.find(u => u.id === id);
            if (!user) return;
            
            currentEditingItem = user;
            
            document.getElementById('user-modal-title').textContent = 'ویرایش کاربر';
            document.getElementById('user-id').value = user.id;
            document.getElementById('user-name').value = user.name;
            document.getElementById('user-email').value = user.email;
            document.getElementById('user-role').value = user.role;
            document.getElementById('user-status').value = user.status;
            document.getElementById('user-password').value = ''; // رمز عبور را خالی بگذار
            
            openModal('user-modal');
        }
        
        // حذف کاربر
        function deleteUser(id) {
            if (confirm('آیا از حذف این کاربر اطمینان دارید؟')) {
                users = users.filter(u => u.id !== id);
                localStorage.setItem('users', JSON.stringify(users));
                loadUsers();
                showNotification('کاربر حذف شد', 'success');
            }
        }
        
        // جستجو در کاربران
        function searchUsers(searchTerm) {
            const filteredUsers = users.filter(user => 
                user.name.toLowerCase().includes(searchTerm) ||
                user.email.toLowerCase().includes(searchTerm) ||
                user.role.toLowerCase().includes(searchTerm)
            );
            
            displayFilteredUsers(filteredUsers);
        }
        
        // نمایش کاربران فیلتر شده
        function displayFilteredUsers(filteredUsers) {
            const tableBody = document.getElementById('users-table-body');
            const emptyState = document.getElementById('users-empty');
            
            if (filteredUsers.length === 0) {
                tableBody.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            tableBody.innerHTML = '';
            
            filteredUsers.forEach(user => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #667eea, #764ba2); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">
                                ${user.name.charAt(0)}
                            </div>
                            ${user.name}
                        </div>
                    </td>
                    <td>${user.email}</td>
                    <td><span class="status-badge" style="background: ${getRoleColor(user.role)}; color: white;">${getRoleName(user.role)}</span></td>
                    <td>${user.joinDate}</td>
                    <td><span class="status-badge status-${user.status}">${getStatusName(user.status)}</span></td>
                    <td>
                        <button class="btn btn-primary btn-sm" onclick="editUser(${user.id})">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-danger btn-sm" onclick="deleteUser(${user.id})">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }
        
        // === توابع مدیریت پست‌ها (پیج‌ها) ===
        
        // تغییر فیلدهای پست بر اساس نوع
        function togglePostFields() {
            const postType = document.getElementById('post-type').value;
            const singleFields = document.getElementById('single-fields');
            const carouselFields = document.getElementById('carousel-fields');
            const videoFields = document.getElementById('video-fields');
            
            // مخفی کردن همه فیلدها
            singleFields.style.display = 'none';
            carouselFields.style.display = 'none';
            videoFields.style.display = 'none';
            
            // نمایش فیلد مربوطه
            switch(postType) {
                case 'single':
                    singleFields.style.display = 'block';
                    break;
                case 'carousel':
                    carouselFields.style.display = 'block';
                    break;
                case 'video':
                    videoFields.style.display = 'block';
                    break;
            }
        }
        
        // ذخیره پست
        function savePost() {
            const title = document.getElementById('post-title').value;
            const type = document.getElementById('post-type').value;
            const caption = document.getElementById('post-caption').value;
            const hashtags = document.getElementById('post-hashtags').value;
            
            if (!title || !type || !caption) {
                showNotification('لطفا فیلدهای ضروری را پر کنید', 'error');
                return;
            }
            
            let media = [];
            
            // بر اساس نوع پست، رسانه را دریافت کن
            switch(type) {
                case 'single':
                    const singleImage = document.getElementById('post-single-image').files[0];
                    if (singleImage) {
                        media.push({
                            type: 'image',
                            url: URL.createObjectURL(singleImage)
                        });
                    }
                    break;
                    
                case 'carousel':
                    const carouselImages = document.getElementById('post-carousel-images').files;
                    Array.from(carouselImages).forEach(file => {
                        media.push({
                            type: 'image',
                            url: URL.createObjectURL(file)
                        });
                    });
                    break;
                    
                case 'video':
                    const video = document.getElementById('post-video').files[0];
                    if (video) {
                        media.push({
                            type: 'video',
                            url: URL.createObjectURL(video)
                        });
                    }
                    break;
            }
            
            if (media.length === 0) {
                showNotification('لطفا حداقل یک رسانه اضافه کنید', 'error');
                return;
            }
            
            const post = {
                id: currentEditingItem ? currentEditingItem.id : Date.now(),
                title,
                type,
                caption,
                hashtags: hashtags.split(',').map(tag => tag.trim()).filter(tag => tag),
                media,
                likes: currentEditingItem ? currentEditingItem.likes : 0,
                comments: currentEditingItem ? currentEditingItem.comments : 0,
                views: currentEditingItem ? currentEditingItem.views : 0,
                date: new Date().toLocaleDateString('fa-IR')
            };
            
            if (currentEditingItem) {
                const index = posts.findIndex(p => p.id === currentEditingItem.id);
                posts[index] = post;
            } else {
                posts.push(post);
            }
            
            localStorage.setItem('posts', JSON.stringify(posts));
            showNotification('پست با موفقیت ذخیره شد', 'success');
            
            closeModal('post-modal');
            resetPostForm();
            loadPosts();
        }
        
        // پاک کردن فرم پست
        function resetPostForm() {
            document.getElementById('post-form').reset();
            document.getElementById('post-id').value = '';
            document.getElementById('post-single-preview').style.display = 'none';
            document.getElementById('post-video-preview').style.display = 'none';
            document.getElementById('carousel-previews').innerHTML = '';
            togglePostFields();
            currentEditingItem = null;
        }
        
        // بارگذاری پست‌ها
        function loadPosts() {
            const container = document.getElementById('posts-container');
            const emptyState = document.getElementById('posts-empty');
            
            if (posts.length === 0) {
                container.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            container.innerHTML = '';
            
            posts.forEach(post => {
                const card = document.createElement('div');
                card.className = 'post-card';
                
                let mediaHTML = '';
                if (post.media && post.media.length > 0) {
                    if (post.type === 'carousel') {
                        mediaHTML = `
                            <div class="post-media">
                                <img src="${post.media[0].url}" alt="${post.title}">
                                <div class="carousel-indicators">
                                    ${post.media.map((_, index) => `<div class="carousel-indicator ${index === 0 ? 'active' : ''}"></div>`).join('')}
                                </div>
                            </div>
                        `;
                    } else if (post.type === 'video') {
                        mediaHTML = `
                            <div class="post-media">
                                <video src="${post.media[0].url}" controls></video>
                            </div>
                        `;
                    } else {
                        mediaHTML = `
                            <div class="post-media">
                                <img src="${post.media[0].url}" alt="${post.title}">
                            </div>
                        `;
                    }
                }
                
                card.innerHTML = `
                    <div class="post-header">
                        <div>
                            <h3 style="margin: 0; color: var(--dark-color);">${post.title}</h3>
                            <span class="post-type ${post.type}">${getPostTypeName(post.type)}</span>
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button class="btn btn-primary btn-sm" onclick="editPost(${post.id})">
                                <i class="fas fa-edit"></i> ویرایش
                            </button>
                            <button class="btn btn-danger btn-sm" onclick="deletePost(${post.id})">
                                <i class="fas fa-trash"></i> حذف
                            </button>
                        </div>
                    </div>
                    <div class="post-content">
                        ${mediaHTML}
                        <p style="margin-bottom: 15px; line-height: 1.6;">${post.caption}</p>
                        ${post.hashtags.length > 0 ? `<div style="margin-bottom: 15px;">${post.hashtags.map(tag => `<span style="color: #667eea; margin-left: 5px;">#${tag}</span>`).join('')}</div>` : ''}
                        <div style="display: flex; justify-content: space-between; align-items: center; font-size: 14px; color: #6b7280; border-top: 1px solid var(--border-color); padding-top: 15px;">
                            <span>تاریخ: ${post.date}</span>
                            <div style="display: flex; gap: 15px;">
                                <span><i class="fas fa-heart"></i> ${post.likes}</span>
                                <span><i class="fas fa-comment"></i> ${post.comments}</span>
                                <span><i class="fas fa-eye"></i> ${post.views}</span>
                            </div>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }
        
        // دریافت نام نوع پست
        function getPostTypeName(type) {
            const types = {
                'single': 'تک اسلاید',
                'carousel': 'چند اسلاید',
                'video': 'ویدیو'
            };
            return types[type] || type;
        }
        
        // ویرایش پست
        function editPost(id) {
            const post = posts.find(p => p.id === id);
            if (!post) return;
            
            currentEditingItem = post;
            
            document.getElementById('post-modal-title').textContent = 'ویرایش پست';
            document.getElementById('post-id').value = post.id;
            document.getElementById('post-title').value = post.title;
            document.getElementById('post-type').value = post.type;
            document.getElementById('post-caption').value = post.caption;
            document.getElementById('post-hashtags').value = post.hashtags.join(', ');
            
            togglePostFields();
            
            // نمایش پیش‌نمایش رسانه‌ها
            if (post.media && post.media.length > 0) {
                switch(post.type) {
                    case 'single':
                        const singlePreview = document.getElementById('post-single-preview');
                        singlePreview.src = post.media[0].url;
                        singlePreview.style.display = 'block';
                        break;
                        
                    case 'carousel':
                        const carouselContainer = document.getElementById('carousel-previews');
                        carouselContainer.innerHTML = '';
                        post.media.forEach(media => {
                            const img = document.createElement('img');
                            img.src = media.url;
                            img.style.cssText = 'width: 100px; height: 100px; object-fit: cover; border-radius: 8px; border: 1px solid var(--border-color);';
                            carouselContainer.appendChild(img);
                        });
                        break;
                        
                    case 'video':
                        const videoPreview = document.getElementById('post-video-preview');
                        videoPreview.src = post.media[0].url;
                        videoPreview.style.display = 'block';
                        break;
                }
            }
            
            openModal('post-modal');
        }
        
        // حذف پست
        function deletePost(id) {
            if (confirm('آیا از حذف این پست اطمینان دارید؟')) {
                posts = posts.filter(p => p.id !== id);
                localStorage.setItem('posts', JSON.stringify(posts));
                loadPosts();
                showNotification('پست حذف شد', 'success');
            }
        }
        
        // جستجو در پست‌ها
        function searchPosts(searchTerm) {
            const filteredPosts = posts.filter(post => 
                post.title.toLowerCase().includes(searchTerm) ||
                post.caption.toLowerCase().includes(searchTerm) ||
                post.hashtags.some(tag => tag.toLowerCase().includes(searchTerm))
            );
            
            displayFilteredPosts(filteredPosts);
        }
        
        // نمایش پست‌های فیلتر شده
        function displayFilteredPosts(filteredPosts) {
            const container = document.getElementById('posts-container');
            const emptyState = document.getElementById('posts-empty');
            
            if (filteredPosts.length === 0) {
                container.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            container.innerHTML = '';
            
            filteredPosts.forEach(post => {
                const card = document.createElement('div');
                card.className = 'post-card';
                
                let mediaHTML = '';
                if (post.media && post.media.length > 0) {
                    if (post.type === 'carousel') {
                        mediaHTML = `
                            <div class="post-media">
                                <img src="${post.media[0].url}" alt="${post.title}">
                                <div class="carousel-indicators">
                                    ${post.media.map((_, index) => `<div class="carousel-indicator ${index === 0 ? 'active' : ''}"></div>`).join('')}
                                </div>
                            </div>
                        `;
                    } else if (post.type === 'video') {
                        mediaHTML = `
                            <div class="post-media">
                                <video src="${post.media[0].url}" controls></video>
                            </div>
                        `;
                    } else {
                        mediaHTML = `
                            <div class="post-media">
                                <img src="${post.media[0].url}" alt="${post.title}">
                            </div>
                        `;
                    }
                }
                
                card.innerHTML = `
                    <div class="post-header">
                        <div>
                            <h3 style="margin: 0; color: var(--dark-color);">${post.title}</h3>
                            <span class="post-type ${post.type}">${getPostTypeName(post.type)}</span>
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button class="btn btn-primary btn-sm" onclick="editPost(${post.id})">
                                <i class="fas fa-edit"></i> ویرایش
                            </button>
                            <button class="btn btn-danger btn-sm" onclick="deletePost(${post.id})">
                                <i class="fas fa-trash"></i> حذف
                            </button>
                        </div>
                    </div>
                    <div class="post-content">
                        ${mediaHTML}
                        <p style="margin-bottom: 15px; line-height: 1.6;">${post.caption}</p>
                        ${post.hashtags.length > 0 ? `<div style="margin-bottom: 15px;">${post.hashtags.map(tag => `<span style="color: #667eea; margin-left: 5px;">#${tag}</span>`).join('')}</div>` : ''}
                        <div style="display: flex; justify-content: space-between; align-items: center; font-size: 14px; color: #6b7280; border-top: 1px solid var(--border-color); padding-top: 15px;">
                            <span>تاریخ: ${post.date}</span>
                            <div style="display: flex; gap: 15px;">
                                <span><i class="fas fa-heart"></i> ${post.likes}</span>
                                <span><i class="fas fa-comment"></i> ${post.comments}</span>
                                <span><i class="fas fa-eye"></i> ${post.views}</span>
                            </div>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }
        
        // === توابع عمومی ===
        
        // باز کردن مودال
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
            
            // تنظیم عنوان مودال برای حالت افزودن
            if (!currentEditingItem) {
                const modalTitles = {
                    'product-modal': 'افزودن محصول جدید',
                    'course-modal': 'افزودن دوره جدید',
                    'tool-modal': 'افزودن ابزار جدید',
                    'image-modal': 'آپلود تصویر جدید',
                    'prompt-modal': 'افزودن پرامپت جدید',
                    'user-modal': 'افزودن کاربر جدید',
                    'post-modal': 'افزودن پست جدید'
                };
                
                const titleElement = document.getElementById(modalId.replace('-modal', '-modal-title'));
                if (titleElement && modalTitles[modalId]) {
                    titleElement.textContent = modalTitles[modalId];
                }
            }
        }
        
        // بستن مودال
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
            currentEditingItem = null;
            
            // پاک کردن فرم‌ها
            switch(modalId) {
                case 'product-modal':
                    resetProductForm();
                    break;
                case 'course-modal':
                    resetCourseForm();
                    break;
                case 'tool-modal':
                    resetToolForm();
                    break;
                case 'image-modal':
                    resetImageForm();
                    break;
                case 'prompt-modal':
                    resetPromptForm();
                    break;
                case 'user-modal':
                    resetUserForm();
                    break;
                case 'post-modal':
                    resetPostForm();
                    break;
            }
        }
        
        // بستن مودال با کلیک خارج از آن
        window.addEventListener('click', function(e) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (e.target === modal) {
                    modal.style.display = 'none';
                    currentEditingItem = null;
                }
            });
        });
        
        // === توابع ویرایشگر مقاله ===
        
        // ذخیره پیش‌نویس
        function saveAsDraft() {
            const title = document.getElementById('article-title').value;
            const content = document.getElementById('article-content').innerHTML;
            
            if (!title && !content) {
                showNotification('هیچ محتوایی برای ذخیره وجود ندارد', 'warning');
                return;
            }
            
            const draft = {
                title: title || 'پیش‌نویس بدون عنوان',
                content,
                tags: [...tags],
                date: new Date().toLocaleDateString('fa-IR'),
                status: 'draft'
            };
            
            localStorage.setItem('articleDraft', JSON.stringify(draft));
            showNotification('پیش‌نویس ذخیره شد', 'success');
        }
        
        // پیش‌نمایش مقاله
        function previewArticle() {
            const title = document.getElementById('article-title').value;
            const content = document.getElementById('article-content').innerHTML;
            
            if (!title || !content) {
                showNotification('لطفا عنوان و محتوای مقاله را وارد کنید', 'error');
                return;
            }
            
            const previewContent = document.getElementById('preview-content');
            previewContent.innerHTML = `
                <h1 style="color: var(--dark-color); margin-bottom: 20px;">${title}</h1>
                <div style="border-bottom: 1px solid var(--border-color); margin-bottom: 20px; padding-bottom: 10px;">
                    <span style="color: #6b7280;">تاریخ: ${new Date().toLocaleDateString('fa-IR')}</span>
                    ${tags.length > 0 ? `<span style="margin-right: 20px; color: #6b7280;">برچسب‌ها: ${tags.join(', ')}</span>` : ''}
                </div>
                <div style="line-height: 1.8;">${content}</div>
            `;
            
            document.getElementById('preview-modal').style.display = 'block';
        }
        
        // توابع ویرایشگر
        function insertLink() {
            const url = prompt('لطفا آدرس لینک را وارد کنید:', 'https://');
            if (url) {
                document.execCommand('createLink', false, url);
            }
        }
        
        function insertImage() {
            const url = prompt('لطفا آدرس تصویر را وارد کنید:', 'https://');
            if (url) {
                document.execCommand('insertImage', false, url);
            }
        }
        
        function insertTable() {
            const rows = prompt('تعداد ردیف:', '3');
            const cols = prompt('تعداد ستون:', '3');
            if (rows && cols) {
                let tableHTML = '<table border="1" style="border-collapse: collapse; width: 100%; margin: 15px 0;">';
                for (let i = 0; i < rows; i++) {
                    tableHTML += '<tr>';
                    for (let j = 0; j < cols; j++) {
                        tableHTML += '<td style="padding: 8px; border: 1px solid #ddd;">&nbsp;</td>';
                    }
                    tableHTML += '</tr>';
                }
                tableHTML += '</table>';
                document.execCommand('insertHTML', false, tableHTML);
            }
        }
        
        // خروجی Excel (شبیه‌سازی)
        function exportArticles() {
            showNotification('خروجی Excel در حال آماده‌سازی...', 'success');
            // در پروژه واقعی می‌توان از کتابخانه‌هایی مثل SheetJS استفاده کرد
        }
        
        // ویرایش پروفایل
        function editProfile() {
            document.querySelector('[data-tab="user-info"]').click();
        }
    </script>
</body>
</html>